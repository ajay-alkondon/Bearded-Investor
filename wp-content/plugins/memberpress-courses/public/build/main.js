(()=>{var e,s={569:function(e,s,t){!function(e,s,t,n){"use strict";var r="default"in s?s.default:s;function i(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function o(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,s,t){s&&o(e.prototype,s),t&&o(e,t),Object.defineProperty(e,"prototype",{writable:!1})}function c(e,s,t){s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t}function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t,n=arguments[s];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function d(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),s&&p(e,s)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,s){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e})(e,s)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){var s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=u(e);if(t=s?(t=u(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(n)}}t=t&&t.hasOwnProperty("default")?t.default:t;var g=["render","children","style"],f=(n.smoothDnD.dropHandler=n.dropHandlers.reactDropHandler().handler,n.smoothDnD.wrapChild=!1,function(){d(t,s.Component);var e=h(t);function t(s){return i(this,t),c(m(s=e.call(this,s)),"prevContainer",void 0),c(m(s),"container",null),c(m(s),"containerRef",r.createRef()),s.getContainerOptions=s.getContainerOptions.bind(m(s)),s.getContainer=s.getContainer.bind(m(s)),s.isObjectTypePropsChanged=s.isObjectTypePropsChanged.bind(m(s)),s.prevContainer=null,s}return a(t,[{key:"componentDidMount",value:function(){this.prevContainer=this.getContainer(),this.container=n.smoothDnD(this.getContainer(),this.getContainerOptions())}},{key:"componentWillUnmount",value:function(){this.container.dispose(),this.container=null}},{key:"componentDidUpdate",value:function(e){this.getContainer()&&(this.prevContainer&&this.prevContainer!==this.getContainer()?(this.container.dispose(),this.container=n.smoothDnD(this.getContainer(),this.getContainerOptions()),this.prevContainer=this.getContainer()):this.isObjectTypePropsChanged(e)&&this.container.setOptions(this.getContainerOptions()))}},{key:"isObjectTypePropsChanged",value:function(e){var s,t=this.props,n=(t.render,t.children,t.style,function(e,s){if(null==e)return{};var t,n=function(e,s){if(null==e)return{};for(var t,n={},r=Object.keys(e),i=0;i<r.length;i++)t=r[i],0<=s.indexOf(t)||(n[t]=e[t]);return n}(e,s);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),i=0;i<r.length;i++)t=r[i],0<=s.indexOf(t)||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t]);return n}(t,g));for(s in n){var r=s;if(n.hasOwnProperty(r)){var i=n[r];if("function"!=typeof i&&i!==e[r])return!0}}return!1}},{key:"render",value:function(){return this.props.render?this.props.render(this.containerRef):r.createElement("div",{style:this.props.style,ref:this.containerRef},this.props.children)}},{key:"getContainer",value:function(){return this.containerRef.current}},{key:"getContainerOptions",value:function(){var e=this;return Object.keys(this.props).reduce((function(s,t){var n=t;return t=e.props[n],s[n]="function"==typeof t?function(){var s;return(s=e.props)[n].apply(s,arguments)}:t,s}),{})}}]),t}()),b=(c(f,"propTypes",{behaviour:t.oneOf(["move","copy","drop-zone","contain"]),groupName:t.string,orientation:t.oneOf(["horizontal","vertical"]),style:t.object,dragHandleSelector:t.string,nonDragAreaSelector:t.string,dragBeginDelay:t.number,animationDuration:t.number,autoScrollEnabled:t.bool,lockAxis:t.string,dragClass:t.string,dropClass:t.string,onDragStart:t.func,onDragEnd:t.func,onDrop:t.func,getChildPayload:t.func,shouldAnimateDrop:t.func,shouldAcceptDrop:t.func,onDragEnter:t.func,onDragLeave:t.func,render:t.func,getGhostParent:t.func,removeOnDropOut:t.bool,dropPlaceholder:t.oneOfType([t.shape({className:t.string,animationDuration:t.number,showOnTop:t.bool}),t.bool])}),c(f,"defaultProps",{behaviour:"move",orientation:"vertical"}),n.constants.wrapperClass),v=function(){d(t,s.Component);var e=h(t);function t(){return i(this,t),e.apply(this,arguments)}return a(t,[{key:"render",value:function(){var e;return this.props.render?r.cloneElement(this.props.render(),{className:b}):(e="".concat(this.props.className?this.props.className+" ":""),r.createElement("div",l({},this.props,{className:"".concat(e).concat(b)}),this.props.children))}}]),t}();c(v,"propsTypes",{render:t.func,className:t.string}),Object.keys(n).forEach((function(s){e[s]=n[s]})),e.Container=f,e.Draggable=v,Object.defineProperty(e,"__esModule",{value:!0})}(s,t(609),t(556),t(69))},381:(e,s,t)=>{"use strict";const n=window.wp.plugins,r=window.wp.domReady;var i=t.n(r);const o=window.wp.data,a=window.wp.apiFetch;var c=t.n(a);const l=MPCS_Course_Data.curriculum,d={addSection:e=>({type:"ADD_SECTION",section:e}),reOrderSection:e=>({type:"REORDER_SECTION",newSectionOrder:e}),reorderLessons:e=>({type:"MOVE_LESSONS_IN_SECTION",newSection:e}),moveLessonsBtwApps:(e,s)=>({type:"MOVE_LESSONS_BTW_APPS",newSection:e,newSectionLessons:s}),moveLessonsBtwSections:(e,s)=>({type:"MOVE_LESSONS_BTW_SECTIONS",newStart:e,newFinish:s}),*addLesson(e,s,t,n){const r=yield d.pushToApi("wp/v2/"+n,{title:t,content:"",status:"draft"});if(r){const t={[r.id]:{id:r.id,title:r.title.raw,href:r.link,status:r.status,type:n}},i={...e.lessons,section:{...e.lessons.section,...t}},o=e.sections[s.id].lessonIds;return o.push(r.id),{type:"ADD_LESSON",newLessons:i,newSection:{...e.sections[s.id],lessonIds:o}}}},*updateLesson(e,s,t,n){const r=yield d.pushToApi("wp/v2/"+n+"/"+s,{title:t});return{type:"UPDATE_LESSON",newLessons:{...e.lessons,section:{...e.lessons.section,[s]:{id:s,title:r.title.raw,href:r.link,status:r.status,type:n}}}}},*deleteLesson(e,s,t){yield d.deleteFromApi("wp/v2/"+s+"/"+e),yield(0,o.select)(m).getAll();const{[e]:n,...r}=t;return{type:"DELETE_LESSON",newLessons:r}},*publishLesson(e,s,t){const n=yield d.pushToApi("wp/v2/"+t+"/"+s,{status:"publish"});return{type:"UPDATE_LESSON",newLessons:{...e.lessons,section:{...e.lessons.section,[s]:{id:s,title:n.title.raw,href:n.link,status:n.status,type:t}}}}},deleteSectionLesson:e=>({type:"DELETE_SECTION_LESSON",newSection:e}),updateSection:e=>({type:"UPDATE_SECTION",newSections:e}),deleteSection:(e,s)=>({type:"DELETE_SECTION",newSections:e,newSectionOrder:s}),filterLessons:e=>({type:"FILTER_LESSONS",newLessons:e}),isDirty:e=>({type:"UNSAVED_CHANGES",status:e}),*refreshSidebarLessons(e=1,s=""){const t={paged:e,s,post_status:["publish","draft","future"]},n=p(MPCS_Course_Data.api.lessons,t),r=yield d.fetchFromAPI({path:n});return r.lessons=r.lessons||{},{type:"FETCH_LESSONS",lessons:Object.values(r.lessons).map((e=>e)).reduce(((e,s)=>(e[s.ID]={id:s.ID,title:s.title,href:s.permalink,type:s.type,status:s.post_status,courseId:s.courseID,courseTitle:s.courseTitle},e)),{}),page:e,totalPages:r.meta.max}},*refreshSidebarQuizzes(e=1,s=""){const t={paged:e,s,post_status:["publish","draft","future"]},n=p(MPCS_Course_Data.api.quizzes,t),r=yield d.fetchFromAPI({path:n});return r.quizzes=r.quizzes||{},{type:"FETCH_QUIZZES",quizzes:Object.values(r.quizzes).map((e=>e)).reduce(((e,s)=>(e[s.ID]={id:s.ID,title:s.title,href:s.permalink,type:s.type,status:s.post_status,courseId:s.courseID,courseTitle:s.courseTitle},e)),{}),page:e,totalPages:r.meta.max}},*refreshSidebarAssignments(e=1,s=""){const t={paged:e,s,post_status:["publish","draft","future"]},n=p(MPCS_Course_Data.api.assignments,t),r=yield d.fetchFromAPI({path:n});return r.assignments=r.assignments||{},{type:"FETCH_ASSIGNMENTS",assignments:Object.values(r.assignments).map((e=>e)).reduce(((e,s)=>(e[s.ID]={id:s.ID,title:s.title,href:s.permalink,type:s.type,status:s.post_status,courseId:s.courseID,courseTitle:s.courseTitle},e)),{}),page:e,totalPages:r.meta.max}},*duplicateLesson(e,s,t){let n;n="mpcs-quiz"===t?"quizzes":"mpcs-assignment"===t?"assignments":"lessons";const r=MPCS_Course_Data.api[n]+e;return{type:"DUPLICATE_LESSON",newPost:yield d.pushToApi(r,{courseId:s}),courseId:s}},*refreshCurriculum(e){const s=MPCS_Course_Data.api.curriculum+e;return{type:"REFRESH_CURRICULUM",curriculum:yield d.fetchFromAPI({path:s})}},updateSectionLessons:e=>({type:"UPDATE_SECTION_LESSONS",lessons:e}),updateSectionQuizzes:e=>({type:"UPDATE_SECTION_QUIZZES",quizzes:e}),updateSectionAssignments:e=>({type:"UPDATE_SECTION_ASSIGNMENTS",assignments:e}),fetchFromAPI:e=>({type:"FETCH_FROM_API",args:e}),pushToApi:(e,s)=>({type:"PUSH_TO_API",path:e,data:s}),deleteFromApi:(e,s)=>({type:"DELETE_FROM_API",path:e,data:s}),fetchCurrentPost:()=>({type:"FETCH_CURRENT_POST"})},u={FETCH_FROM_API:e=>c()(e.args),PUSH_TO_API:e=>c()({path:e.path,data:e.data,method:"POST"}),DELETE_FROM_API:e=>c()({path:e.path,data:e.data,method:"DELETE"}),FETCH_CURRENT_POST:()=>wp.data.select("core/editor").getCurrentPostId()},p=(e,s)=>e+"?"+(s=Object.keys(s).map((function(e){return e+"="+s[e]})).join("&")),m="memberpress/course/curriculum",h={selectors:{getAll:e=>e,getNewlyAddedSection:e=>Object.values(e.sections).filter((e=>e.added>0)).reduce((function(e,s){return(e.added||0)>s.added?e:s}),{})},actions:d,reducer:(e=l,s)=>{switch(s.type){case"ADD_SECTION":return Object.assign({},e,{sections:{...e.sections,...s.section},sectionOrder:e.sectionOrder.concat(Object.keys(s.section)[0])});case"UPDATE_SECTION":return Object.assign({},e,{sections:s.newSections});case"DELETE_SECTION":return Object.assign({},e,{sections:s.newSections,sectionOrder:s.newSectionOrder});case"REORDER_SECTION":return Object.assign({},e,{sectionOrder:s.newSectionOrder});case"MOVE_LESSONS_IN_SECTION":return Object.assign({},e,{sections:{...e.sections,[s.newSection.id]:s.newSection}});case"MOVE_LESSONS_BTW_APPS":return Object.assign({},e,{sections:{...e.sections,[s.newSection.id]:s.newSection},lessons:{...e.lessons,section:s.newSectionLessons}});case"MOVE_LESSONS_BTW_SECTIONS":return Object.assign({},e,{sections:{...e.sections,[s.newStart.id]:s.newStart,[s.newFinish.id]:s.newFinish}});case"DELETE_SECTION_LESSON":return Object.assign({},e,{sections:{...e.sections,[s.newSection.id]:s.newSection}});case"ADD_LESSON":return Object.assign({},e,{lessons:s.newLessons,sections:{...e.sections,[s.newSection.id]:s.newSection}});case"UPDATE_LESSON":return Object.assign({},e,{lessons:s.newLessons});case"DELETE_LESSON":return Object.assign({},e,{lessons:{...e.lessons,sections:s.newLessons}});case"FILTER_LESSONS":return Object.assign({},e,{filtered:s.newLessons});case"UNSAVED_CHANGES":return Object.assign({},e,{unSavedChanges:s.status});case"FETCH_LESSONS":return Object.assign({},e,{lessons:{...e.lessons,sidebar:s.lessons},lessonMeta:{...e.lessonMeta,totalPages:s.totalPages,currentPage:s.page}});case"FETCH_QUIZZES":return Object.assign({},e,{quizzes:{...e.quizzes,sidebar:s.quizzes},quizMeta:{...e.quizMeta,totalPages:s.totalPages,currentPage:s.page}});case"FETCH_ASSIGNMENTS":return Object.assign({},e,{assignments:{...e.assignments,sidebar:s.assignments},assignmentMeta:{...e.assignmentMeta,totalPages:s.totalPages,currentPage:s.page}});case"DUPLICATE_LESSON":default:return e;case"REFRESH_CURRICULUM":return Object.assign({},e,{...s.curriculum});case"UPDATE_SECTION_LESSONS":return Object.assign({},e,{lessons:{...e.lessons,SECTION:s.lessons}});case"UPDATE_SECTION_QUIZZES":return Object.assign({},e,{quizzes:{...e.quizzes,SECTION:s.quizzes}});case"UPDATE_SECTION_ASSIGNMENTS":return Object.assign({},e,{assignments:{...e.assignments,SECTION:s.assignments}})}},resolvers:{*getAll(){}},controls:{...wp.data.controls,...u}},g=MPCS_Course_Data.settings,f={selectors:{getAll:e=>e},actions:{updateSettings:(e,s)=>({type:"UPDATE_SETTINGS",setting:e,value:s})},reducer:(e=g,s)=>"UPDATE_SETTINGS"===s.type?Object.assign({},e,{[s.setting]:{...e[s.setting],value:s.value}}):e,resolvers:{*getAll(){}},controls:{...wp.data.controls}},b=MPCS_Course_Data.settings,v={selectors:{getAll:e=>e},actions:{updateSettings:(e,s)=>({type:"UPDATE_SETTINGS",setting:e,value:s})},reducer:(e=b,s)=>"UPDATE_SETTINGS"===s.type?Object.assign({},e,{[s.setting]:{...e[s.setting],value:s.value}}):e,resolvers:{*getAll(){}},controls:{...wp.data.controls}},x=MPCS_Course_Data.pricing,_={selectors:{getAll:e=>e},actions:{updatePricing:(e,s)=>({type:"UPDATE_PRICING"})},reducer:(e=x,s)=>"UPDATE_PRICING"===s.type?Object.assign({},e,{}):e,resolvers:{*getAll(){}},controls:{...wp.data.controls}},y=MPCS_Course_Data.resources||{},w={*filterDownloads(e=""){const s={number:8,s:e,post_status:["publish","draft","future"]},t=C(MPCS_Course_Data.api.resources,s),n=yield w.fetchFromAPI({path:t});if(n)return{type:"FETCH_DOWNLOADS",downloads:n,totalPages:n.meta.max}},fetchFromAPI:e=>({type:"FETCH_FROM_API",args:e}),updateSettings:(e,s)=>({type:"UPDATE_SETTINGS",setting:e,value:s}),updateSection:e=>({type:"UPDATE_SECTION",newSections:e}),addResource(e,s,t){const n={[e.id]:e},r={...t.items,...n},i=t.sections[s].items;return i.push(e.id),{type:"ADD_RESOURCE",items:r,section:{...t.sections[s],items:i}}},removeResource(e,s,t,n){const r=n.sections[t].items;r.splice(e,1);const i={...n.sections[t],items:r};let o=n.items;return delete o[s],{type:"ADD_RESOURCE",items:o,section:i}},reorderItems:(e,s)=>(console.log("section :>> ",e),console.log("items :>> ",s),{type:"MOVE_ITEMS_IN_SECTION",section:e={...e,items:s}})},S={FETCH_FROM_API:e=>c()(e.args)},j={*getAll(){},*fetchDownloads(e=""){return yield w.filterDownloads()}},C=(e,s)=>e+"?"+(s=Object.keys(s).map((function(e){return e+"="+s[e]})).join("&")),E={selectors:{getAll:e=>e,fetchDownloads:(e,s="")=>e.query||{downloads:[],meta:[]}},actions:w,reducer:(e=y,s)=>{switch(s.type){case"UPDATE_SETTINGS":return Object.assign({},e,{[s.setting]:{...e[s.setting],value:s.value}});case"UPDATE_SECTION":return Object.assign({},e,{sections:s.newSections});case"ADD_RESOURCE":return Object.assign({},e,{items:s.items,sections:{...e.sections,[s.section.id]:s.section}});case"MOVE_ITEMS_IN_SECTION":return console.log("action.section :>> ",s.section),Object.assign({},e,{sections:{...e.sections,[s.section.id]:s.section}});case"FETCH_DOWNLOADS":return Object.assign({},e,{query:s.downloads});case"FAIL_RESOLUTION":console.log("ERROR: :>> ",s);default:return e}},resolvers:j,controls:{...wp.data.controls,...S}},N=(0,o.createReduxStore)(m,h);(0,o.register)(N);const O=(0,o.createReduxStore)("memberpress/course/settings",f);(0,o.register)(O);const T=(0,o.createReduxStore)("memberpress/course/certificates",v);(0,o.register)(T);const D=(0,o.createReduxStore)("memberpress/course/pricing",_);(0,o.register)(D);const A=(0,o.createReduxStore)("memberpress/course/resources",E);(0,o.register)(A);var I=t(569);const P=window.ReactJSXRuntime,L={};L.view=(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-eye",children:[(0,P.jsx)("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),(0,P.jsx)("circle",{cx:"12",cy:"12",r:"3"})]}),L.edit=(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit",children:[(0,P.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),(0,P.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),L.close=(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-x-circle",children:[(0,P.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,P.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,P.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),L.delete=(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-trash-2",children:[(0,P.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,P.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),(0,P.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,P.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),L.draggable=(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22",fill:"#333",stroke:"#333",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-more-vertical",children:[(0,P.jsx)("circle",{cx:"12",cy:"11",r:"1.2"}),(0,P.jsx)("circle",{cx:"12",cy:"5",r:"1.2"}),(0,P.jsx)("circle",{cx:"12",cy:"17",r:"1.2"}),(0,P.jsx)("circle",{cx:"5",cy:"11",r:"1.2"}),(0,P.jsx)("circle",{cx:"5",cy:"5",r:"1.2"}),(0,P.jsx)("circle",{cx:"5",cy:"17",r:"1.2"})]}),L.draggableSmall=(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"18",viewBox:"0 0 18 22",fill:"#666",stroke:"#666",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-more-vertical",children:[(0,P.jsx)("circle",{cx:"12",cy:"11",r:"1.2"}),(0,P.jsx)("circle",{cx:"12",cy:"5",r:"1.2"}),(0,P.jsx)("circle",{cx:"12",cy:"17",r:"1.2"}),(0,P.jsx)("circle",{cx:"5",cy:"11",r:"1.2"}),(0,P.jsx)("circle",{cx:"5",cy:"5",r:"1.2"}),(0,P.jsx)("circle",{cx:"5",cy:"17",r:"1.2"})]}),L.arrowDown=(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[(0,P.jsx)("title",{children:"ionicons-v5-b"}),(0,P.jsx)("path",{d:"M98,190.06,237.78,353.18a24,24,0,0,0,36.44,0L414,190.06c13.34-15.57,2.28-39.62-18.22-39.62H116.18C95.68,150.44,84.62,174.49,98,190.06Z"})]}),L.arrowRight=(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[(0,P.jsx)("title",{children:"ionicons-v5-b"}),(0,P.jsx)("path",{d:"M190.06,414,353.18,274.22a24,24,0,0,0,0-36.44L190.06,98c-15.57-13.34-39.62-2.28-39.62,18.22V395.82C150.44,416.32,174.49,427.38,190.06,414Z"})]}),L.plusCircle=(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus-circle",children:[(0,P.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,P.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,P.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),L.arrowNext=(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-right",children:[(0,P.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,P.jsx)("polyline",{points:"12 5 19 12 12 19"})]}),L.arrowPrev=(0,P.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-left",children:[(0,P.jsx)("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),(0,P.jsx)("polyline",{points:"12 19 5 12 12 5"})]}),L.arrowBack=(0,P.jsx)("svg",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,P.jsx)("path",{d:"M7 16l-4-4m0 0l4-4m-4 4h18"})}),L.link=(0,P.jsx)("svg",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",className:"link-icon",children:(0,P.jsx)("path",{d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})});const z=L,k=window.wp.element,R=window.wp.components,M=({lesson:e,text:s,type:t,placeholder:n,children:r,childRef:i,isSidebar:o,refKey:a,element:c,setEditing:l,isEditing:d,...u})=>((0,k.useEffect)((()=>{i&&i.current&&!0===d&&(i.current.value=s,i.current.focus())}),[d,i]),(0,P.jsx)(k.Fragment,{children:d?(0,P.jsx)("div",{className:`editable-${t}`+(d?" active":""),onBlur:()=>l(!1),onKeyDown:e=>((e,s)=>{const{key:t}=e,n=["Escape","Tab","Space"],r=[...n,"Enter"];("textarea"===s&&n.indexOf(t)>-1||"textarea"!==s&&r.indexOf(t)>-1)&&l(!1)})(e,t),children:r}):(0,P.jsxs)("div",{className:`editable-${t}`,onClick:()=>l(!0),children:[wp.element.createElement(c,{className:s?"content":"text-gray-500"},s||n||__("Editable content","memberpress-courses")),o&&e.courseId>0&&(0,P.jsx)(R.Icon,{icon:z.link,size:11})]})})),q=()=>(0,P.jsx)(k.Fragment,{children:(0,P.jsx)("div",{className:"loader",children:(0,P.jsx)("img",{src:MPCS_Course_Data.imagesUrl+"/square-loader.gif"})})}),F=window.wp.i18n,B=t(160),U=(e,s)=>{const{removedIndex:t,addedIndex:n,payload:r}=s;if(null===t&&null===n)return e;const i=[...e];let o=null==r?r:r.lessonId;return null!==t&&(o=i.splice(t,1)[0]),null!==n&&i.splice(n,0,o),i},H=e=>{const s=new B(MPCS_Course_Data.posts_url);return s.set("query",{post:e,action:"edit",curriculum:"1"}),s.href},V=(e,s)=>{const t=new B(MPCS_Course_Data.viewQuizAttemptsUrl);return t.query.includes("gradebook")?t.set("query",{page:"memberpress-course-gradebook",id:s,quiz:e}):t.set("query",{page:"mpcs-quiz-attempts",id:e,curriculum:"1"}),t.href},W=(e,s)=>{const t=new B(MPCS_Course_Data.viewAssignmentSubmissionsUrl);return t.query.includes("gradebook")?t.set("query",{page:"memberpress-course-gradebook",id:s,assignment:e}):t.set("query",{page:"mpcs-assignment-submissions",id:e,curriculum:"1"}),t.href},Q=e=>new B(e).href,G=e=>MPCS_Course_Data.settings[e].name,X=window.lodash;var Y=t(942),$=t.n(Y);const Z=window.wp.compose;class J extends React.Component{constructor(e){super(e),this.state={isHovering:!1,title:"",isEditing:!1,loading:!1},this.type="mpcs-assignment",this.inputRef=(0,k.createRef)()}deleteOne(e,s){const{curriculum:t,sectionId:n,sidebar:r,deleteLesson:i,deleteSectionLesson:o,refreshSidebarAssignments:a}=this.props;if(this.setState({loading:!0}),1==r){for(let[s,n]of Object.entries(t.sections)){const s=n.lessonIds,t=s.indexOf(e);t>=0&&s.splice(t,1),o({...n,lessonIds:s})}return void i(e,this.type,t.Assignments.sidebar).then((e=>{a(t.assignmentMeta.currentPage),this.setState({loading:!1})}))}const c=t.sections[n].lessonIds;c.splice(s,1),o({...t.sections[this.props.sectionId],lessonIds:c})}updateOne=(0,X.debounce)(((e,s)=>{const{updateLesson:t,refreshSidebarAssignments:n,curriculum:r}=this.props;t(r,s,e,this.type).then((e=>{n(r.assignmentMeta.currentPage),this.setState({loading:!1})}))}),1e3);publishOne=(0,X.debounce)((e=>{const{publishLesson:s,refreshSidebarAssignments:t,curriculum:n}=this.props;this.setState({loading:!0}),s(n,e,this.type).then((e=>{this.setState({loading:!1})}))}),1e3);handleMouseEnter=e=>{1!=this.state.isEditing&&this.setState({isHovering:!0})};handleMouseLeave=e=>{1!=this.state.isEditing&&this.setState({isHovering:!1})};handleChange=(e,s)=>{this.setState({title:e,loading:!0}),this.updateOne(e,s)};render(){const{assignment:e,post:s}=this.props,t=this.state.isHovering,n=e.courseId>0;let r=14,i=z.close;return 1==this.props.sidebar&&(r=14,i=z.delete),(0,P.jsx)(I.Draggable,{className:"mpcs-card-wrapper",children:(0,P.jsxs)("div",{className:t&&n?"mepr-assignment mpcs-card":"mepr-assignment",onMouseEnter:()=>this.handleMouseEnter(this.props.index),onMouseLeave:()=>this.handleMouseLeave(this.props.index),"data-post":e.id,children:[(0,P.jsx)("a",{className:"mepr-lesson-drag-handle",children:this.props.sidebar?t&&(0,P.jsx)(k.Fragment,{children:(0,P.jsx)(R.Icon,{icon:z.draggable,size:r})}):t&&(0,P.jsx)(k.Fragment,{children:(0,P.jsx)(R.Icon,{icon:z.draggable,size:"16"})})}),!this.props.sidebar&&e.status&&"draft"==e.status&&(0,P.jsx)("i",{className:"mpcs-edit"}),!this.props.sidebar&&e.status&&"draft"!=e.status&&(0,P.jsx)("i",{className:"mpcs-assignment-icon"}),(0,P.jsx)(M,{lesson:e,text:e.title,placeholder:(0,F.__)("Assignment title","memberpress-courses"),childRef:this.inputRef,isSidebar:this.props.sidebar,type:"input",element:"span",isEditing:this.state.isEditing,setEditing:e=>{this.setState({isEditing:e}),0==e&&this.setState({isHovering:!1})},children:(0,P.jsx)("input",{ref:this.inputRef,type:"text",name:e.id,placeholder:(0,F.__)("Assignment title","memberpress-courses"),value:this.state.title,onChange:s=>this.handleChange(s.target.value,e.id)})}),t&&(0,P.jsxs)("div",{className:"mepr-actions",children:[(0,P.jsx)(R.Animate,{options:{origin:"middle center"},type:"appear",children:({className:s})=>(0,P.jsx)("a",{className:s,href:Q(e.href),title:(0,F.__)("View Assignment","memberpress-course-assignments"),children:(0,P.jsx)(R.Icon,{icon:z.view,size:r})})}),(0,P.jsx)(R.Animate,{options:{origin:"middle left"},type:"appear",children:({className:s})=>(0,P.jsx)("a",{className:s,href:H(e.id),target:"_self",title:(0,F.__)("Edit Assignment","memberpress-course-assignments"),children:(0,P.jsx)(R.Icon,{icon:z.edit,size:r})})}),(0,P.jsx)(R.Animate,{options:{origin:"bottom center"},type:"appear",children:({className:s})=>(0,P.jsxs)("a",{className:s,href:"#0",onClick:()=>this.deleteOne(e.id,this.props.index),title:(0,F.__)("Remove Assignment","memberpress-course-assignments"),children:[(0,P.jsx)(R.Icon,{icon:i,size:r})," "]})}),!this.props.sidebar&&e.hasSubmissions&&(0,P.jsx)(R.Animate,{options:{origin:"bottom center"},type:"appear",children:({className:t})=>(0,P.jsx)("a",{className:$()(t,"mpcs-quiz-view-attempts"),href:W(e.id,s.id),children:(0,F.__)("View Submissions","memberpress-course-assignments")})}),e.status&&"draft"==e.status&&!this.props.sidebar&&(0,P.jsx)(R.Animate,{options:{origin:"bottom center"},type:"appear",children:({className:s})=>(0,P.jsx)("a",{className:s+" mpcs-publish-lesson",href:"#0",onClick:()=>this.publishOne(e.id),children:(0,F.__)("Publish","memberpress-courses")})})]}),t&&this.props.sidebar&&this.props.assignment.courseId>0&&(0,P.jsxs)("div",{className:"mepr-assignment-meta",children:[(0,F.__)("Course","memberpress-courses"),":",this.props.assignment.courseTitle]}),this.state.loading&&(0,P.jsx)(q,{})]})},this.props.index)}}const K=(0,Z.compose)([(0,o.withDispatch)(((e,s)=>{const t=e("memberpress/course/curriculum");return{updateLesson:t.updateLesson,deleteSectionLesson:t.deleteSectionLesson,deleteLesson:t.deleteLesson,refreshSidebarAssignments:t.refreshSidebarAssignments,publishLesson:t.publishLesson}})),(0,o.withSelect)(((e,s)=>({curriculum:e("memberpress/course/curriculum").getAll(),post:e("core/editor").getCurrentPost()})))])(J),ee=({paged:e,maxPage:s,handlePaginate:t})=>{const[n,r]=(0,k.useState)(!1),[i,o]=(0,k.useState)(!1),a=parseInt(e,10)+1,c=parseInt(e,10)-1;return(0,k.useEffect)((()=>{r(a<=s),o(e>1)}),[e,s]),(0,P.jsxs)("div",{className:"mpcs-lessons-pagination","data-paged":e,children:[i&&(0,P.jsxs)("a",{id:"mpcs-nav-prev",href:"#0",onClick:e=>t(e,c),children:[(0,P.jsx)(R.Icon,{icon:z.arrowPrev,size:"14"}),(0,P.jsx)("span",{children:(0,F.__)("Prev","memberpress-courses")})]}),n&&(0,P.jsxs)("a",{id:"mpcs-nav-next",href:"#0",onClick:e=>t(e,a),children:[(0,P.jsx)("span",{children:(0,F.__)("Next","memberpress-courses")}),(0,P.jsx)(R.Icon,{icon:z.arrowNext,size:"14"})]})]})},se=window.wp.editPost;class te extends React.Component{constructor(e){super(e),this.state={isAddingSection:!1,search:"",isLoading:!1,page:1},this.isSavingFlag=!0}componentDidMount(){this.props.refreshSidebarAssignments(this.state.page)}getAssignmentPayload=e=>{const{curriculum:s}=this.props,t=Object.values(s.sections);let n=Object.values(s.assignments.sidebar).reverse()[e];if(null!=n.id){for(let e of t)if(e.lessonIds.filter((e=>e==n.id))[0])return{external:!0,sourceSectionId:e.id,sourceIndex:e.lessonIds.indexOf(n.id),lessonId:n.id,postType:"mpcs-assignment"};return{external:!0,sourceSectionId:null,lessonId:n.id,postType:"mpcs-assignment",courseId:n.courseId,courseTitle:n.courseTitle}}};handleSearch=e=>{this.setState({search:e,isLoading:!0}),this.refreshSidebarAssignments(e)};refreshSidebarAssignments=(0,X.debounce)((e=>{this.props.refreshSidebarAssignments(1,e).then((e=>{this.setState({isLoading:!1})}))}),300);handlePaginate=(e,s)=>{e.preventDefault(),this.setState({page:s}),this.props.refreshSidebarAssignments(s,this.state.search)};render(){const{curriculum:e}=this.props;return(0,P.jsx)("div",{className:"mepr-curriculum-panel mepr-curriculum-assignments",children:(0,P.jsxs)(se.PluginDocumentSettingPanel,{name:"mpcs-assignments",title:(0,F.__)("Assignments","memberpress-courses"),className:"mepr-curriculum-panel mepr-curriculum-assignments",initialOpen:!0,children:[e.assignments.sidebar&&(0,P.jsxs)("div",{className:"mpcs-search-assignments",children:[(0,P.jsx)("input",{type:"text",placeholder:(0,F.__)("Search Assignments","memberpress-courses"),onChange:e=>this.handleSearch(e.target.value)}),this.state.isLoading&&(0,P.jsx)(q,{})]}),e.assignments.sidebar&&(0,P.jsxs)(I.Container,{groupName:"lessons",dragHandleSelector:".mepr-lesson-drag-handle",getChildPayload:e=>this.getAssignmentPayload(e),dragClass:"mepr-lesson-ghost",dropClass:"mepr-lesson-ghost-drop",children:[Object.entries(e.assignments.sidebar).reverse().map((([s,t],n)=>(0,P.jsx)(K,{assignment:t,index:Object.keys(e.assignments.sidebar).indexOf(s),sidebar:!0},t.id))),(0,P.jsx)(ee,{paged:e.assignmentMeta.currentPage,maxPage:e.assignmentMeta.totalPages,handlePaginate:this.handlePaginate})]})]})})}}const ne=(0,Z.compose)([(0,o.withDispatch)(((e,s)=>{const{refreshSidebarAssignments:t}=e("memberpress/course/curriculum");return{refreshSidebarAssignments:t}})),(0,o.withSelect)(((e,s)=>({curriculum:e("memberpress/course/curriculum").getAll()})))])(te),re=({className:e,icon:s,placeholder:t,value:n,handleChange:r,handleSubmit:i,isLoading:o})=>{const a=(0,k.useRef)(null);return(0,k.useEffect)((()=>{a&&a.current&&a.current.focus()}),[a,o]),(0,P.jsxs)("div",{className:$()("mpcs-addable",e),children:[s,(0,P.jsx)("input",{type:"text",ref:a,value:n,onChange:e=>r(e.target.value),onBlur:i,onKeyDown:e=>"Enter"===e.key&&i(),placeholder:t,disabled:o}),o&&(0,P.jsx)(q,{})]})};class ie extends React.Component{constructor(e){super(e),this.state={isHovering:!1,title:"",isEditing:!1,loading:!1},this.type="mpcs-lesson",this.inputRef=(0,k.createRef)()}deleteOne(e,s){const{curriculum:t,sectionId:n,sidebar:r,deleteLesson:i,deleteSectionLesson:o,refreshSidebarLessons:a}=this.props;if(this.setState({loading:!0}),1==r){for(let[s,n]of Object.entries(t.sections)){const s=n.lessonIds,t=s.indexOf(e);t>=0&&s.splice(t,1),o({...n,lessonIds:s})}return void i(e,this.type,t.lessons.sidebar).then((e=>{a(t.lessonMeta.currentPage),this.setState({loading:!1})}))}const c=t.sections[n].lessonIds;c.splice(s,1),o({...t.sections[this.props.sectionId],lessonIds:c})}publishOneLesson=(0,X.debounce)((e=>{const{publishLesson:s,refreshSidebarLessons:t,curriculum:n}=this.props;this.setState({loading:!0}),s(n,e,this.type).then((e=>{t(n.lessonMeta.currentPage),this.setState({loading:!1})}))}),1e3);updateOne=(0,X.debounce)(((e,s)=>{const{updateLesson:t,refreshSidebarLessons:n,curriculum:r}=this.props;t(r,s,e,this.type).then((e=>{n(r.lessonMeta.currentPage),this.setState({loading:!1})}))}),1e3);handleMouseEnter=e=>{1!=this.state.isEditing&&this.setState({isHovering:!0})};handleMouseLeave=e=>{1!=this.state.isEditing&&this.setState({isHovering:!1})};handleChange=(e,s)=>{this.setState({title:e,loading:!0}),this.updateOne(e,s)};render(){const{lesson:e}=this.props,s=this.state.isHovering,t=e.courseId>0;let n=14,r=z.close;return 1==this.props.sidebar&&(n=14,r=z.delete),(0,P.jsx)(I.Draggable,{className:"mpcs-card-wrapper",children:(0,P.jsxs)("div",{className:s&&t?"mepr-lesson mpcs-card":"mepr-lesson",onMouseEnter:()=>this.handleMouseEnter(this.props.index),onMouseLeave:()=>this.handleMouseLeave(this.props.index),"data-post":e.id,children:[(0,P.jsx)("a",{className:"mepr-lesson-drag-handle",children:this.props.sidebar?s&&(0,P.jsx)(k.Fragment,{children:(0,P.jsx)(R.Icon,{icon:z.draggable,size:n})}):s&&(0,P.jsx)(k.Fragment,{children:(0,P.jsx)(R.Icon,{icon:z.draggable,size:"16"})})}),!this.props.sidebar&&e.status&&"draft"==e.status&&(0,P.jsx)("i",{className:"mpcs-lesson-draft-icon"}),!this.props.sidebar&&e.status&&"draft"!=e.status&&(0,P.jsx)("i",{className:"mpcs-lesson-icon"}),(0,P.jsx)(M,{lesson:e,text:e.title,placeholder:(0,F.__)("Lesson title","memberpress-courses"),childRef:this.inputRef,isSidebar:this.props.sidebar,type:"input",element:"span",isEditing:this.state.isEditing,setEditing:e=>{this.setState({isEditing:e}),0==e&&this.setState({isHovering:!1})},children:(0,P.jsx)("input",{ref:this.inputRef,type:"text",name:e.id,placeholder:(0,F.__)("Lesson title","memberpress-courses"),value:this.state.title,onChange:s=>this.handleChange(s.target.value,e.id)})}),s&&(0,P.jsxs)("div",{className:"mepr-actions",children:[(0,P.jsx)(R.Animate,{options:{origin:"middle center"},type:"appear",children:({className:s})=>(0,P.jsx)("a",{className:s,href:Q(e.href),title:(0,F.__)("View Lesson","memberpress-courses"),children:(0,P.jsx)(R.Icon,{icon:z.view,size:n})})}),(0,P.jsx)(R.Animate,{options:{origin:"middle left"},type:"appear",children:({className:s})=>(0,P.jsx)("a",{className:s,href:H(e.id),target:"_self",title:(0,F.__)("Edit Lesson","memberpress-courses"),children:(0,P.jsx)(R.Icon,{icon:z.edit,size:n})})}),(0,P.jsx)(R.Animate,{options:{origin:"bottom center"},type:"appear",children:({className:s})=>(0,P.jsxs)("a",{className:s,href:"#0",title:(0,F.__)("Delete Lesson","memberpress-courses"),onClick:()=>this.deleteOne(e.id,this.props.index),children:[(0,P.jsx)(R.Icon,{icon:r,size:n})," "]})}),e.status&&"draft"==e.status&&!this.props.sidebar&&(0,P.jsx)(R.Animate,{options:{origin:"bottom center"},type:"appear",children:({className:s})=>(0,P.jsx)("a",{className:s+" mpcs-publish-lesson",href:"#0",onClick:()=>this.publishOneLesson(e.id),children:(0,F.__)("Publish","memberpress-courses")})})]}),s&&this.props.sidebar&&this.props.lesson.courseId>0&&(0,P.jsxs)("div",{className:"mepr-lesson-meta",children:[(0,F.__)("Course","memberpress-courses"),": ",this.props.lesson.courseTitle]}),this.state.loading&&(0,P.jsx)(q,{})]})},this.props.index)}}const oe=(0,Z.compose)([(0,o.withDispatch)(((e,s)=>{const{updateLesson:t,deleteSectionLesson:n,deleteLesson:r,refreshSidebarLessons:i,publishLesson:o}=e("memberpress/course/curriculum");return{updateLesson:t,deleteSectionLesson:n,deleteLesson:r,refreshSidebarLessons:i,publishLesson:o}})),(0,o.withSelect)(((e,s)=>({curriculum:e("memberpress/course/curriculum").getAll(),post:e("core/editor").getCurrentPost()})))])(ie);class ae extends React.Component{constructor(e){super(e),this.state={isHovering:!1,title:"",isEditing:!1,loading:!1},this.type="mpcs-quiz",this.inputRef=(0,k.createRef)()}deleteOne(e,s){const{curriculum:t,sectionId:n,sidebar:r,deleteLesson:i,deleteSectionLesson:o,refreshSidebarQuizzes:a}=this.props;if(this.setState({loading:!0}),1==r){for(let[s,n]of Object.entries(t.sections)){const s=n.lessonIds,t=s.indexOf(e);t>=0&&s.splice(t,1),o({...n,lessonIds:s})}return void i(e,this.type,t.quizzes.sidebar).then((e=>{a(t.quizMeta.currentPage),this.setState({loading:!1})}))}const c=t.sections[n].lessonIds;c.splice(s,1),o({...t.sections[this.props.sectionId],lessonIds:c})}publishOne=(0,X.debounce)((e=>{const{publishLesson:s,refreshSidebarQuizzes:t,curriculum:n}=this.props;this.setState({loading:!0}),s(n,e,this.type).then((e=>{t(n.quizMeta.currentPage),this.setState({loading:!1})}))}),1e3);updateOne=(0,X.debounce)(((e,s)=>{const{updateLesson:t,refreshSidebarQuizzes:n,curriculum:r}=this.props;t(r,s,e,this.type).then((e=>{n(r.quizMeta.currentPage),this.setState({loading:!1})}))}),1e3);handleMouseEnter=e=>{1!=this.state.isEditing&&this.setState({isHovering:!0})};handleMouseLeave=e=>{1!=this.state.isEditing&&this.setState({isHovering:!1})};handleChange=(e,s)=>{this.setState({title:e,loading:!0}),this.updateOne(e,s)};render(){const{quiz:e,post:s}=this.props,t=this.state.isHovering,n=e.courseId>0;let r=14,i=z.close;return 1==this.props.sidebar&&(r=14,i=z.delete),(0,P.jsx)(I.Draggable,{className:"mpcs-card-wrapper",children:(0,P.jsxs)("div",{className:t&&n?"mepr-quiz mpcs-card":"mepr-quiz",onMouseEnter:()=>this.handleMouseEnter(this.props.index),onMouseLeave:()=>this.handleMouseLeave(this.props.index),"data-post":e.id,children:[(0,P.jsx)("a",{className:"mepr-lesson-drag-handle",children:this.props.sidebar?t&&(0,P.jsx)(k.Fragment,{children:(0,P.jsx)(R.Icon,{icon:z.draggable,size:r})}):t&&(0,P.jsx)(k.Fragment,{children:(0,P.jsx)(R.Icon,{icon:z.draggable,size:"16"})})}),!this.props.sidebar&&e.status&&"draft"==e.status&&(0,P.jsx)("i",{className:"mpcs-lesson-draft-icon"}),!this.props.sidebar&&e.status&&"draft"!=e.status&&(0,P.jsx)("i",{className:"mpcs-quiz-icon"}),(0,P.jsx)(M,{lesson:e,text:e.title,placeholder:(0,F.__)("Quiz title","memberpress-courses"),childRef:this.inputRef,isSidebar:this.props.sidebar,type:"input",element:"span",isEditing:this.state.isEditing,setEditing:e=>{this.setState({isEditing:e}),0==e&&this.setState({isHovering:!1})},children:(0,P.jsx)("input",{ref:this.inputRef,type:"text",name:e.id,placeholder:(0,F.__)("Quiz title","memberpress-courses"),value:this.state.title,onChange:s=>this.handleChange(s.target.value,e.id)})}),t&&(0,P.jsxs)("div",{className:"mepr-actions",children:[(0,P.jsx)(R.Animate,{options:{origin:"middle center"},type:"appear",children:({className:s})=>(0,P.jsx)("a",{className:s,href:Q(e.href),title:(0,F.__)("View Quiz","memberpress-courses"),children:(0,P.jsx)(R.Icon,{icon:z.view,size:r})})}),(0,P.jsx)(R.Animate,{options:{origin:"middle left"},type:"appear",children:({className:s})=>(0,P.jsx)("a",{className:s,href:H(e.id),target:"_self",title:(0,F.__)("Edit Quiz","memberpress-courses"),children:(0,P.jsx)(R.Icon,{icon:z.edit,size:r})})}),(0,P.jsx)(R.Animate,{options:{origin:"bottom center"},type:"appear",children:({className:s})=>(0,P.jsxs)("a",{className:s,href:"#0",title:(0,F.__)("Delete Quiz","memberpress-courses"),onClick:()=>this.deleteOne(e.id,this.props.index),children:[(0,P.jsx)(R.Icon,{icon:i,size:r})," "]})}),!this.props.sidebar&&e.hasAttempts&&(0,P.jsx)(R.Animate,{options:{origin:"bottom center"},type:"appear",children:({className:t})=>(0,P.jsx)("a",{className:$()(t,"mpcs-quiz-view-attempts"),href:V(e.id,s.id),children:(0,F.__)("View Attempts","memberpress-courses")})}),e.status&&"draft"==e.status&&!this.props.sidebar&&(0,P.jsx)(R.Animate,{options:{origin:"bottom center"},type:"appear",children:({className:s})=>(0,P.jsx)("a",{className:s+" mpcs-publish-lesson",href:"#0",onClick:()=>this.publishOne(e.id),children:(0,F.__)("Publish","memberpress-courses")})})]}),t&&this.props.sidebar&&this.props.quiz.courseId>0&&(0,P.jsxs)("div",{className:"mepr-quiz-meta",children:[(0,F.__)("Course","memberpress-courses"),":",this.props.quiz.courseTitle]}),this.state.loading&&(0,P.jsx)(q,{})]})},this.props.index)}}const ce=(0,Z.compose)([(0,o.withDispatch)(((e,s)=>{const{updateLesson:t,deleteSectionLesson:n,deleteLesson:r,refreshSidebarQuizzes:i,publishLesson:o}=e("memberpress/course/curriculum");return{updateLesson:t,deleteSectionLesson:n,deleteLesson:r,refreshSidebarQuizzes:i,publishLesson:o}})),(0,o.withSelect)(((e,s)=>({curriculum:e("memberpress/course/curriculum").getAll(),post:e("core/editor").getCurrentPost()})))])(ae);class le extends React.Component{constructor(e){super(e),this.state={isHovered:{},isEditing:!1,isAdding:!1,isAddingValue:"",isAddingLoading:!1},this.sectionTitle=(0,k.createRef)()}componentDidMount(){this.props.newlyAdded.id==this.props.section.id&&this.setState({isAdding:"lesson",postType:"mpcs-lesson"})}handleMouseEnter=e=>{this.setState((s=>({isHovered:{...s.isHovered,[e]:!0}})))};handleMouseLeave=e=>{this.setState((s=>({isHovered:{...s.isHovered,[e]:!1}})))};handleDropReady=()=>{0==this.props.isOpen&&(this.sectionTitle.current.classList.add("mpcs-border-blink"),this.autoOpenSection())};autoOpenSection=(0,X.debounce)((()=>{this.props.toggle(this.props.index),this.sectionTitle.current.classList.remove("mpcs-border-blink")}),2e3);deleteOne=e=>{const{[e]:s,...t}=this.props.curriculum.sections;let n=this.props.curriculum.sectionOrder.filter((s=>s!==e));this.props.deleteSection(t,n)};updateOne(e,s){const t={...this.props.curriculum.sections,[e]:{...this.props.curriculum.sections[e],title:s}};this.props.updateSection(t)}addLesson=(0,X.throttle)((()=>{if(this.state.isAdding&&""!==this.state.isAddingValue){this.setState({isAddingLoading:!0});const{curriculum:e,section:s,addLesson:t,refreshSidebarLessons:n,refreshSidebarQuizzes:r,refreshSidebarAssignments:i}=this.props;let o=this.state.postType;t(e,s,this.state.isAddingValue,o).then((()=>{this.setState({isAddingValue:"",isAddingLoading:!1}),"quiz"===this.state.isAdding?r(e.quizMeta.currentPage):"assignment"===this.state.isAdding?i(e.assignmentMeta.currentPage):n(e.lessonMeta.currentPage)}))}else this.setState({isAdding:!1,isAddingValue:""})}),1e3);getLessonPayload=(e,s)=>{for(let[t,n]of this.props.curriculum.sections[e].lessonIds.entries())if(t==s)return{external:!1,lessonId:n,postType:"mpcs-lesson"}};render(){const e=this.state.isHovered[this.props.index],s=this.props.isOpen,t=(0,k.createRef)();return(0,P.jsx)(I.Draggable,{children:(0,P.jsxs)("div",{className:"mepr-course-section",children:[(0,P.jsx)(I.Container,{groupName:"lessons",onDrop:e=>this.autoOpenSection.cancel,onDragLeave:()=>{this.sectionTitle.current.classList.remove("mpcs-border-blink"),this.autoOpenSection.cancel()},onDropReady:e=>this.handleDropReady(),children:(0,P.jsxs)("div",{ref:this.sectionTitle,className:"mepr-title notransition",onMouseEnter:()=>this.handleMouseEnter(this.props.index),onMouseLeave:()=>this.handleMouseLeave(this.props.index),children:[(0,P.jsx)("span",{className:"mepr-section-drag-handle",children:e&&(0,P.jsx)(k.Fragment,{children:(0,P.jsx)(R.Icon,{icon:z.draggable,size:"18"})})}),(0,P.jsx)("button",{type:"button",className:"mepr-toggle-lessons",onClick:()=>this.props.toggle(this.props.index),children:s?(0,P.jsx)(R.Icon,{icon:z.arrowDown,size:"14"}):(0,P.jsx)(R.Icon,{icon:z.arrowRight,size:"14"})}),(0,P.jsx)(M,{text:this.props.section.title,placeholder:(0,F.__)("Section Title","memberpress-courses"),childRef:t,type:"input",element:"h3",isEditing:this.state.isEditing,setEditing:e=>{this.setState({isEditing:e})},children:(0,P.jsx)("input",{ref:t,type:"text",name:this.props.section.id,placeholder:(0,F.__)("Section Title","memberpress-courses"),value:this.props.section.title,onChange:e=>this.updateOne(this.props.section.id,e.target.value)})}),e&&(0,P.jsx)("div",{className:"mepr-actions",children:(0,P.jsx)(R.Animate,{options:{origin:"middle center"},type:"appear",children:({className:e})=>(0,P.jsx)("a",{className:e,href:"#",onClick:()=>{this.deleteOne(this.props.section.id,this.props.index)},children:(0,P.jsx)(R.Icon,{icon:z.delete,size:"14"})})})})]})}),s&&(0,P.jsxs)("div",{className:"mepr-lesson-list",children:[(0,P.jsx)(I.Container,{groupName:"lessons",dragHandleSelector:".mepr-lesson-drag-handle",onDrop:e=>this.props.onDrop(this.props.section.id,e),getChildPayload:e=>this.getLessonPayload(this.props.section.id,e),dragClass:"mepr-lesson-ghost",dropClass:"mepr-lesson-ghost-drop",dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"lessons-drop-preview"},dropPlaceholderAnimationDuration:200,children:this.props.lessons.map(((e,s)=>"mpcs-quiz"===e.type?(0,P.jsx)(ce,{quiz:e,index:s,sectionId:this.props.section.id,type:e.type},e.id):"mpcs-assignment"===e.type?(0,P.jsx)(K,{assignment:e,index:s,sectionId:this.props.section.id,type:e.type},e.id):(0,P.jsx)(oe,{lesson:e,index:s,sectionId:this.props.section.id,type:e.type},e.id)))}),(this.state.isAdding||this.state.isAddingLoading)&&(0,P.jsx)(re,{className:"mpcs-addable-lesson",icon:(0,P.jsx)("i",{className:this.state.addingDraftIcon}),placeholder:"quiz"===this.state.isAdding?(0,F.__)("Write quiz name","memberpress-courses"):"assignment"===this.state.isAdding?(0,F.__)("Write assignment name","memberpress-courses"):(0,F.__)("Write lesson name","memberpress-courses"),value:this.state.isAddingValue,handleChange:e=>{this.setState({isAddingValue:e})},handleSubmit:this.addLesson,isLoading:this.state.isAddingLoading}),(0,P.jsxs)("div",{className:"mepr-add-controls",children:[(0,P.jsx)("span",{className:"mpcs-add-lesson",onClick:()=>{this.setState({isAdding:"lesson",postType:"mpcs-lesson",addingIcon:"mpcs-lesson-icon",addingDraftIcon:"mpcs-lesson-draft-icon",addingPlaceholder:(0,F.__)("Write lesson name","memberpress-courses"),isAddingLoading:!1})},children:(0,F.__)("Add Lesson...","memberpress-courses")}),MPCS_Course_Data.activePlugins.assignments&&(0,P.jsxs)(k.Fragment,{children:[(0,P.jsx)("span",{className:"mpcs-add-controls-or",children:(0,F.__)("or","memberpress-courses")}),(0,P.jsx)("span",{className:"mpcs-add-assignment",onClick:()=>{this.setState({isAdding:"assignment",postType:"mpcs-assignment",addingIcon:"mpcs-assignment-icon",addingDraftIcon:"mpcs-edit",addingPlaceholder:(0,F.__)("Write assignment name","memberpress-courses"),isAddingLoading:!1})},children:(0,F.__)("Add Assignment...","memberpress-courses")})]}),MPCS_Course_Data.activePlugins.quizzes&&(0,P.jsxs)(k.Fragment,{children:[(0,P.jsx)("span",{className:"mpcs-add-controls-or",children:(0,F.__)("or","memberpress-courses")}),(0,P.jsx)("span",{className:"mpcs-add-quiz",onClick:()=>{this.setState({isAdding:"quiz",postType:"mpcs-quiz",addingIcon:"mpcs-quiz-icon",addingDraftIcon:"mpcs-lesson-draft-icon",addingPlaceholder:(0,F.__)("Write quiz name","memberpress-courses"),isAddingLoading:!1})},children:(0,F.__)("Add Quiz...","memberpress-courses")})]})]})]})]})},this.props.index)}}const de=(0,Z.compose)([(0,o.withDispatch)((e=>{const{addLesson:s,updateSection:t,deleteSection:n,refreshSidebarLessons:r,refreshSidebarQuizzes:i,refreshSidebarAssignments:o}=e("memberpress/course/curriculum"),{editPost:a}=e("core/editor");return{addLesson:s,updateSection:t,deleteSection:n,refreshSidebarLessons:r,refreshSidebarQuizzes:i,refreshSidebarAssignments:o,editPost:a}})),(0,o.withSelect)((e=>({curriculum:e("memberpress/course/curriculum").getAll(),newlyAdded:e("memberpress/course/curriculum").getNewlyAddedSection()})))])(le);var ue,pe=new Uint8Array(16);function me(){if(!ue&&!(ue="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ue(pe)}const he=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var ge=[],fe=0;fe<256;++fe)ge.push((fe+256).toString(16).substr(1));const be=function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(ge[e[s+0]]+ge[e[s+1]]+ge[e[s+2]]+ge[e[s+3]]+"-"+ge[e[s+4]]+ge[e[s+5]]+"-"+ge[e[s+6]]+ge[e[s+7]]+"-"+ge[e[s+8]]+ge[e[s+9]]+"-"+ge[e[s+10]]+ge[e[s+11]]+ge[e[s+12]]+ge[e[s+13]]+ge[e[s+14]]+ge[e[s+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&he.test(e)}(t))throw TypeError("Stringified UUID is invalid");return t},ve=function(e,s,t){var n=(e=e||{}).random||(e.rng||me)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,s){t=t||0;for(var r=0;r<16;++r)s[t+r]=n[r];return s}return be(n)};class xe extends k.Component{constructor(e){super(e),this.state={openedSections:[0],isAddingSection:!1,isAddingSectionTitle:""},this.isSavingFlag=!0}componentDidUpdate(e,s){const{curriculum:t,isDirty:n,isSavingPost:r,isAutoSaving:i,didPostSave:o,editPost:a,refreshPost:c,refreshSidebarLessons:l}=this.props;t.sections!=e.curriculum.sections&&(a({dirty:"true"}),n(!0)),r&&!i?this.isSavingFlag=!1:this.isSavingFlag||(this.isSavingFlag=!0,o&&(n(!1),(0,X.delay)(this.updateSectionLessonsUrl,1e3)))}toggleSection=e=>{const s=(t=this.state.openedSections,n=e,(0,X.xor)(t,[n]));var t,n;this.setState({openedSections:s})};onSectionDrop=e=>{const s=U(this.props.curriculum.sectionOrder,e);this.props.reOrderSection(s)};onLessonDrop=(e,s)=>{if(0==Number.isInteger(s.removedIndex)&&0==Number.isInteger(s.addedIndex))return;const{currentPostId:t,duplicateLesson:n,refreshSidebarLessons:r,refreshSidebarQuizzes:i}=this.props;let{payload:o}=s;const a=this,c=(e=>{var s=(0,F.__)("This lesson is associated with the","memberpress-courses");return e.quizId&&(s=(0,F.__)("This quiz is associated with the","memberpress-courses")),'<div class="mpcs-vex-dialog">\n    <h2>'+(0,F.__)("Duplicate","memberpress-courses")+"?</h2>\n    <p>"+s+"</br>\n    <strong><em>"+e.courseTitle+(0,F.__)(" course","memberpress-courses")+"</em></strong></br>\n    "+(0,F.__)("Do you want to duplicate it and add it to","memberpress-courses")+"</br>\n    "+(0,F.__)("the content course","memberpress-courses")+"?</p>\n  </div>"})(o);o.courseId>0&&o.courseId!=t?vex.dialog.confirm({unsafeMessage:c,showCloseButton:!0,className:"vex-theme-plain mpcs-vex",buttons:[(0,X.extend)({},vex.dialog.buttons.NO,{text:(0,F.__)("Cancel","memberpress-courses"),className:"button button-secondary"}),(0,X.extend)({},vex.dialog.buttons.YES,{text:(0,F.__)("Okay","memberpress-courses"),className:"button button-primary"})],callback:function(c){c&&n(o.lessonId,t,o.postType).then((t=>{o.lessonId=t.newPost.ID,o.lesson=t.newPost,o.action="duplicate",a.moveLesson(e,o,s),r(),i()}))}}):a.moveLesson(e,o,s)};addSection=()=>{const{addSection:e}=this.props;if(""!==this.state.isAddingSectionTitle){const s=ve();e({[s]:{id:s,title:this.state.isAddingSectionTitle,lessonIds:[],added:Date.now()}}).then((()=>{const e=this.props.curriculum.sections,t=Object.keys(e).indexOf(s);this.setState({openedSections:[t],isAddingSectionTitle:""})}))}this.setState({isAddingSection:!1})};moveLesson=(e,s,t)=>{const{curriculum:n,reorderLessons:r,moveLessonsBtwApps:i}=this.props,o=n.sections[e],{lessonId:a,lesson:c}=s;if(0==s.external){const e=U(o.lessonIds,t),s={...o,lessonIds:e};return void r(s)}if(null==s.sourceSectionId){let e={};const r=U(o.lessonIds,t),l={...o,lessonIds:r};return e="duplicate"==s.action?{...n.lessons.section,[a]:{id:c.ID,title:c.post_title,href:c.guid,type:c.post_type,status:c.post_status}}:{...n.lessons.section,[a]:this.getFromSidebar(a)},void i(l,e)}let l={...t};l.removedIndex=s.sourceIndex,l.addedIndex=null;const d=n.sections[s.sourceSectionId],u=U(d.lessonIds,l);i({...d,lessonIds:u},{...n.lessons.section,[s.lessonId]:this.getFromSidebar(s.lessonId)}).then((n=>{const i=s.sourceSectionId==e?n.newSection:o,a=U(i.lessonIds,t),c={...i,lessonIds:a};r(c)}))};getFromSidebar=e=>{let s=this.props.curriculum.lessons.sidebar[e];return null==s&&(s=this.props.curriculum.quizzes.sidebar[e]),null==s&&(s=this.props.curriculum.assignments.sidebar[e]),s};updateSectionLessonsUrl=()=>{const{curriculum:e,updateSectionLessons:s,updateSectionQuizzes:t,updateSectionAssignments:n,refreshSidebarLessons:r,refreshSidebarQuizzes:i,refreshSidebarAssignments:o}=this.props;MPCS_Course_Data.activePlugins.quizzes&&i().then((s=>{let n={};const r=s.quizzes;for(const[s,t]of Object.entries(e.lessons.section))r.hasOwnProperty(s)&&(t.href=r[s].href),n[s]=t;t(n)})),MPCS_Course_Data.activePlugins.assignments&&o().then((s=>{let t={};const r=s.assignments;for(const[s,n]of Object.entries(e.lessons.section))r.hasOwnProperty(s)&&(n.href=r[s].href),t[s]=n;n(t)})),r().then((t=>{let n={};const r=t.lessons;for(const[s,t]of Object.entries(e.lessons.section))r.hasOwnProperty(s)&&(t.href=r[s].href),n[s]=t;s(n)}))};render(){const{curriculum:e}=this.props;return(0,P.jsxs)("div",{className:"mepr-curriculum-builder",children:[e.sectionOrder&&(0,P.jsx)(I.Container,{onDrop:this.onSectionDrop,dragHandleSelector:".mepr-section-drag-handle",dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"sections-drop-preview"},className:"mepr-curriculum-builder",dragClass:"mepr-section-ghost",children:e.sectionOrder.map(((s,t)=>{const n=e.sections[s],r=n.lessonIds.map((s=>e.lessons.section[s])).filter((e=>void 0!==e));return(0,P.jsx)(de,{section:n,lessons:r,index:t,onDrop:this.onLessonDrop,onDropReady:this.beforeLessonDrop,isOpen:this.state.openedSections.includes(t),toggle:this.toggleSection},n.id)}))}),this.state.isAddingSection&&(0,P.jsx)(re,{className:"mpcs-addable-section",placeholder:(0,F.__)("Section Name","memberpress-courses"),value:this.state.isAddingSectionTitle,handleChange:e=>{this.setState({isAddingSectionTitle:e})},handleSubmit:this.addSection}),(0,P.jsxs)("h3",{className:"mpcs-add-section",onClick:()=>{this.setState({isAddingSection:!0})},children:[(0,P.jsx)("i",{className:"mpcs-plus"}),(0,F.__)("Add section","memberpress-courses")]}),(0,P.jsx)("input",{type:"hidden",name:"mpcs-curriculum",value:JSON.stringify(e)})]})}}const _e=(0,Z.compose)([(0,o.withDispatch)(((e,s)=>{const{addSection:t,reorderLessons:n,moveLessonsBtwApps:r,reOrderSection:i,duplicateLesson:o,isDirty:a,refreshSidebarLessons:c,refreshSidebarQuizzes:l,refreshSidebarAssignments:d,refreshCurriculum:u,updateSectionLessons:p,updateSectionQuizzes:m,updateSectionAssignments:h}=e("memberpress/course/curriculum"),{editPost:g,refreshPost:f}=e("core/editor");return{addSection:t,reorderLessons:n,moveLessonsBtwApps:r,reOrderSection:i,duplicateLesson:o,isDirty:a,editPost:g,refreshPost:f,refreshSidebarLessons:c,refreshSidebarQuizzes:l,refreshSidebarAssignments:d,refreshCurriculum:u,updateSectionLessons:p,updateSectionQuizzes:m,updateSectionAssignments:h}})),(0,o.withSelect)(((e,s)=>({curriculum:e("memberpress/course/curriculum").getAll(),isSavingPost:e("core/editor").isSavingPost(),isAutoSaving:e("core/editor").isAutosavingPost(),didPostSave:e("core/editor").didPostSaveRequestSucceed(),currentPostId:e("core/editor").getCurrentPost().id})))])(xe);class ye extends React.Component{constructor(e){super(e),this.state={isAddingSection:!1,search:"",isLoading:!1,page:1},this.isSavingFlag=!0}componentDidMount(){this.props.refreshSidebarLessons(this.state.page)}getLessonPayload=e=>{const{curriculum:s}=this.props,t=Object.values(s.sections);let n=Object.values(s.lessons.sidebar).reverse()[e];if(null!=n.id){for(let e of t)if(e.lessonIds.filter((e=>e==n.id))[0])return{external:!0,sourceSectionId:e.id,sourceIndex:e.lessonIds.indexOf(n.id),lessonId:n.id,postType:"mpcs-lesson"};return{external:!0,sourceSectionId:null,lessonId:n.id,postType:"mpcs-lesson",courseId:n.courseId,courseTitle:n.courseTitle}}};handleSearch=e=>{this.setState({search:e,isLoading:!0}),this.refreshSidebarLessons(e)};refreshSidebarLessons=(0,X.debounce)((e=>{this.props.refreshSidebarLessons(1,e).then((e=>{this.setState({isLoading:!1})}))}),300);handlePaginate=(e,s)=>{e.preventDefault(),this.setState({page:s}),this.props.refreshSidebarLessons(s,this.state.search)};render(){const{curriculum:e}=this.props;return(0,P.jsx)("div",{className:"mepr-curriculum-panel mepr-curriculum-lessons",children:(0,P.jsxs)(se.PluginDocumentSettingPanel,{name:"mpcs-lessons",title:(0,F.__)("Lessons","memberpress-courses"),className:"mepr-curriculum-panel mepr-curriculum-lessons",initialOpen:!0,children:[e.lessons.sidebar&&(0,P.jsxs)("div",{className:"mpcs-search-lessons",children:[(0,P.jsx)("input",{type:"text",placeholder:(0,F.__)("Search Lessons","memberpress-courses"),onChange:e=>this.handleSearch(e.target.value)}),this.state.isLoading&&(0,P.jsx)(q,{})]}),e.lessons.sidebar&&(0,P.jsxs)(I.Container,{groupName:"lessons",dragHandleSelector:".mepr-lesson-drag-handle",getChildPayload:e=>this.getLessonPayload(e),dragClass:"mepr-lesson-ghost",dropClass:"mepr-lesson-ghost-drop",children:[Object.entries(e.lessons.sidebar).reverse().map((([s,t],n)=>(0,P.jsx)(oe,{lesson:t,index:Object.keys(e.lessons.sidebar).indexOf(s),sidebar:!0},t.id))),(0,P.jsx)(ee,{paged:e.lessonMeta.currentPage,maxPage:e.lessonMeta.totalPages,handlePaginate:this.handlePaginate})]})]})})}}const we=(0,Z.compose)([(0,o.withDispatch)(((e,s)=>{const{refreshSidebarLessons:t}=e("memberpress/course/curriculum");return{refreshSidebarLessons:t}})),(0,o.withSelect)(((e,s)=>({curriculum:e("memberpress/course/curriculum").getAll()})))])(ye);class Se extends React.Component{constructor(e){super(e),this.state={isAddingSection:!1,search:"",isLoading:!1,page:1},this.isSavingFlag=!0}componentDidMount(){this.props.refreshSidebarQuizzes(this.state.page)}getQuizPayload=e=>{const{curriculum:s}=this.props,t=Object.values(s.sections);let n=Object.values(s.quizzes.sidebar).reverse()[e];if(null!=n.id){for(let e of t)if(e.lessonIds.filter((e=>e==n.id))[0])return{external:!0,sourceSectionId:e.id,sourceIndex:e.lessonIds.indexOf(n.id),lessonId:n.id,postType:"mpcs-quiz"};return{external:!0,sourceSectionId:null,lessonId:n.id,postType:"mpcs-quiz",quizId:n.id,courseId:n.courseId,courseTitle:n.courseTitle}}};handleSearch=e=>{this.setState({search:e,isLoading:!0}),this.refreshSidebarQuizzes(e)};refreshSidebarQuizzes=(0,X.debounce)((e=>{this.props.refreshSidebarQuizzes(1,e).then((e=>{this.setState({isLoading:!1})}))}),300);handlePaginate=(e,s)=>{e.preventDefault(),this.setState({page:s}),this.props.refreshSidebarQuizzes(s,this.state.search)};render(){const{curriculum:e}=this.props;return(0,P.jsx)("div",{className:"mepr-curriculum-panel mepr-curriculum-quizzes",children:(0,P.jsxs)(se.PluginDocumentSettingPanel,{name:"mpcs-quizzes",title:(0,F.__)("Quizzes","memberpress-courses"),className:"mepr-curriculum-panel mepr-curriculum-quizzes",initialOpen:!0,children:[e.quizzes.sidebar&&(0,P.jsxs)("div",{className:"mpcs-search-quizzes",children:[(0,P.jsx)("input",{type:"text",placeholder:(0,F.__)("Search Quizzes","memberpress-courses"),onChange:e=>this.handleSearch(e.target.value)}),this.state.isLoading&&(0,P.jsx)(q,{})]}),e.quizzes.sidebar&&(0,P.jsxs)(I.Container,{groupName:"lessons",dragHandleSelector:".mepr-lesson-drag-handle",getChildPayload:e=>this.getQuizPayload(e),dragClass:"mepr-lesson-ghost",dropClass:"mepr-lesson-ghost-drop",children:[Object.entries(e.quizzes.sidebar).reverse().map((([s,t],n)=>(0,P.jsx)(ce,{quiz:t,index:Object.keys(e.quizzes.sidebar).indexOf(s),sidebar:!0},t.id))),(0,P.jsx)(ee,{paged:e.quizMeta.currentPage,maxPage:e.quizMeta.totalPages,handlePaginate:this.handlePaginate})]})]})})}}const je=(0,Z.compose)([(0,o.withDispatch)(((e,s)=>{const{refreshSidebarQuizzes:t}=e("memberpress/course/curriculum");return{refreshSidebarQuizzes:t}})),(0,o.withSelect)(((e,s)=>({curriculum:e("memberpress/course/curriculum").getAll()})))])(Se);function Ce({width:e=200,height:s=50,...t}){return(0,P.jsxs)("svg",{width:e,height:s,version:"1.1",viewBox:"0 0 252 40",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,P.jsxs)("style",{type:"text/css",children:[".st0 { fill:#20D1CC }",".st1 { fill:#05D0E0 }",".st2 { fill:#01A9B2 }",".st3 { fill:#0282C9 }",".st4 { fill:#016BB1 }",".st5 { fill:#06429E }",".st6 { fill:#01569A }",".st7 { fill:#008C9D }",".st8 { fill:#03ABA3 }"]}),(0,P.jsx)("path",{className:"st0",d:"m48 17.5c0-4.1 3.3-7.4 7.4-7.4s7.4 3.3 7.4 7.4v17.5c0 2.8 2.3 5 5 5 2.8 0 5-2.3 5-5v-17.5c0.1-9.7-7.7-17.5-17.4-17.5-4.8 0-9.2 2-12.4 5.2 3.1 3.2 5 7.5 5 12.3z"}),(0,P.jsx)("path",{className:"st1",d:"m38 17.5c0-4.8 1.9-9.1 5-12.3-3.2-3.2-7.6-5.2-12.4-5.2-4.9 0-9.3 2-12.4 5.2 3.1 3.1 5 7.5 5 12.2 0-4.1 3.3-7.4 7.4-7.4 4.1 0.1 7.4 3.4 7.4 7.5z"}),(0,P.jsx)("path",{className:"st2",d:"m48 35v-17.5c0-4.8-1.9-9.1-5-12.3-3.1 3.2-5 7.5-5 12.3v17.5c0 1.4 0.6 2.6 1.5 3.6 0.9 0.9 2.2 1.5 3.6 1.5 2.7-0.1 4.9-2.4 4.9-5.1z"}),(0,P.jsx)("path",{className:"st3",d:"M5.7,0c-2.8,0-5,2.3-5,5c0,2.8,2.3,5,5,5c4.1,0,7.4,3.3,7.4,7.4c0-4.8,1.9-9.1,5-12.2C15,2,10.6,0,5.7,0z"}),(0,P.jsx)("path",{className:"st4",d:"m13.1 17.4v17.5c0 2.8 2.3 5 5 5 0.9 0 1.7-0.2 2.4-0.6 1.6-0.9 2.6-2.5 2.6-4.4v-17.4c0-4.8-1.9-9.1-5-12.2-3.1 3.1-5 7.4-5 12.1z"}),(0,P.jsx)("circle",{className:"st5",cx:"5.7",cy:"5",r:"5"}),(0,P.jsx)("circle",{className:"st6",cx:"18.1",cy:"35",r:"5"}),(0,P.jsx)("circle",{className:"st7",cx:"43",cy:"35",r:"5"}),(0,P.jsx)("circle",{className:"st8",cx:"67.9",cy:"35",r:"5"}),(0,P.jsx)("path",{className:"st5",d:"m101 15.6c-1.8 0-3.6 0.8-4.5 2.8-0.6-2.1-2.3-2.8-4.3-2.8-1.5 0-3 0.6-3.8 2.1v-0.8c0-0.6-0.5-1.1-1.1-1.1s-1.1 0.5-1.1 1.1v10.9c0 0.6 0.5 1.1 1.1 1.1s1.1-0.5 1.1-1.1v-6.5c0-2.1 1.4-3.7 3.5-3.7 2.3 0 3.5 1.6 3.5 3.7v6.5c0 0.6 0.5 1.1 1.1 1.1s1.1-0.5 1.1-1.1v-6.5c0-2.1 1.4-3.7 3.5-3.7 2.3 0 3.4 1.5 3.4 3.7v6.5c0 0.6 0.5 1.1 1.1 1.1s1.1-0.5 1.1-1.1v-6.5c-0.3-3.5-2.2-5.7-5.7-5.7z"}),(0,P.jsx)("path",{className:"st5",d:"m138.3 15.6c-1.8 0-3.6 0.8-4.5 2.8-0.6-2.1-2.3-2.8-4.3-2.8-1.5 0-3 0.6-3.8 2.1v-0.8c0-0.6-0.5-1.1-1.1-1.1s-1.1 0.5-1.1 1.1v10.9c0 0.6 0.5 1.1 1.1 1.1s1.1-0.5 1.1-1.1v-6.5c0-2.1 1.4-3.7 3.5-3.7 2.3 0 3.5 1.6 3.5 3.7v6.5c0 0.6 0.5 1.1 1.1 1.1s1.1-0.5 1.1-1.1v-6.5c0-2.1 1.4-3.7 3.5-3.7 2.3 0 3.4 1.5 3.4 3.7v6.5c0 0.6 0.5 1.1 1.1 1.1s1.1-0.5 1.1-1.1v-6.5c-0.3-3.5-2.1-5.7-5.7-5.7z"}),(0,P.jsx)("path",{className:"st5",d:"m120.5 23.1c0.5 0 1-0.4 1-1 0-4.5-2.8-6.6-6.5-6.6-3.9 0-6.7 2.8-6.7 6.7 0 4.1 2.8 6.7 6.8 6.7 1.9 0 4-0.7 5.3-2 0.2-0.2 0.3-0.4 0.3-0.7 0-0.5-0.4-1-1-1-0.3 0-0.5 0.1-0.7 0.3-0.9 0.9-2.5 1.4-3.9 1.4-2.5 0-4.4-1.5-4.7-3.8h10.1zm-10-1.8c0.4-2.5 2.3-3.8 4.5-3.8 2.5 0 4.2 1.3 4.3 3.8h-8.8z"}),(0,P.jsx)("path",{className:"st5",d:"m173.4 23.1c0.5 0 1-0.4 1-1 0-4.5-2.8-6.6-6.5-6.6-3.9 0-6.7 2.8-6.7 6.7 0 4.1 2.8 6.7 6.8 6.7 1.9 0 4-0.7 5.3-2 0.2-0.2 0.3-0.4 0.3-0.7 0-0.5-0.4-1-1-1-0.3 0-0.5 0.1-0.7 0.3-0.9 0.9-2.5 1.4-3.9 1.4-2.5 0-4.4-1.5-4.7-3.8h10.1zm-10-1.8c0.4-2.5 2.3-3.8 4.5-3.8 2.5 0 4.2 1.3 4.3 3.8h-8.8z"}),(0,P.jsx)("path",{className:"st5",d:"m225.1 23.1c0.5 0 1-0.4 1-1 0-4.5-2.8-6.6-6.5-6.6-3.9 0-6.7 2.8-6.7 6.7 0 4.1 2.8 6.7 6.8 6.7 1.9 0 4-0.7 5.3-2 0.2-0.2 0.3-0.4 0.3-0.7 0-0.5-0.4-1-1-1-0.3 0-0.5 0.1-0.7 0.3-0.9 0.9-2.5 1.4-3.9 1.4-2.5 0-4.4-1.5-4.7-3.8h10.1zm-10-1.8c0.4-2.5 2.3-3.8 4.5-3.8 2.5 0 4.2 1.3 4.3 3.8h-8.8z"}),(0,P.jsx)("path",{className:"st5",d:"m153.3 15.6c-1.8 0-3.9 0.8-4.8 2.5v-6.6c0-0.6-0.5-1.1-1.1-1.1s-1.1 0.5-1.1 1.1v16.3c0 0.6 0.5 1.1 1.1 1.1s1.1-0.5 1.1-1.1v-1.4c1 1.7 2.9 2.4 4.8 2.4 3.7 0 6.6-2.4 6.6-6.6 0-4.3-2.9-6.6-6.6-6.6zm-0.1 11.3c-2.5 0-4.5-1.9-4.5-4.7s2-4.7 4.5-4.7 4.5 1.6 4.5 4.7c0 3-2 4.7-4.5 4.7z"}),(0,P.jsx)("path",{className:"st5",d:"m194.4 15.6c-1.9 0-3.8 0.8-4.8 2.4v-1.4c0-0.6-0.5-1.1-1.1-1.1s-1.1 0.5-1.1 1.1v17.1c0 0.6 0.5 1.1 1.1 1.1s1.1-0.5 1.1-1.1 0-7.4 0-7.4c0.9 1.7 3 2.5 4.8 2.5 3.7 0 6.5-2.3 6.5-6.7 0-4.1-2.8-6.5-6.5-6.5zm-0.1 11.3c-2.5 0-4.5-1.9-4.5-4.7s2-4.7 4.5-4.7 4.5 1.7 4.5 4.6c0 3.2-2 4.8-4.5 4.8z"}),(0,P.jsx)("path",{className:"st5",d:"m185.1 16.1c-0.7-0.3-1.4-0.5-2.3-0.5-1.6 0-3.2 0.6-4 2v-0.9c0-0.6-0.5-1-1-1-0.6 0-1 0.5-1 1v11.2c0 0.6 0.5 1.1 1.1 1.1s1.1-0.5 1.1-1.1v-6.3c0-2.4 1.4-3.8 3.8-3.8 0.6 0 1.1 0.1 1.6 0.3 0.1 0.1 0.3 0.1 0.4 0.1 0.6 0 1-0.5 1-1-0.1-0.6-0.4-0.9-0.7-1.1z"}),(0,P.jsx)("path",{className:"st5",d:"m211.7 16.1c-0.7-0.3-1.4-0.5-2.3-0.5-1.6 0-3.2 0.6-4 2v-0.9c0-0.6-0.5-1-1-1-0.6 0-1 0.5-1 1v11.2c0 0.6 0.5 1.1 1.1 1.1s1.1-0.5 1.1-1.1v-6.3c0-2.4 1.4-3.8 3.8-3.8 0.6 0 1.1 0.1 1.6 0.3 0.1 0.1 0.3 0.1 0.4 0.1 0.6 0 1-0.5 1-1-0.1-0.6-0.4-0.9-0.7-1.1z"}),(0,P.jsx)("path",{className:"st5",d:"m233.2 21.1c-1.6-0.2-3.2-0.5-3.2-1.8 0-1.4 1.4-2.1 3.2-2.1 0.8 0 2.2 0.2 2.9 0.5l0.6 0.3c0.1 0.1 0.3 0.1 0.4 0.1 0.5 0 1-0.4 1-1 0-0.4-0.3-0.8-0.6-0.9-0.2-0.1-0.4-0.2-0.6-0.2-1.2-0.4-2.5-0.6-3.6-0.6-2.5 0-5.3 1.1-5.3 3.9 0 2.7 2.7 3.3 5.2 3.7 2 0.2 3.6 0.6 3.6 2.1-0.1 1.7-2.1 2-3.4 2-1.2 0-2.4-0.3-3.4-0.8-0.1-0.1-0.3-0.1-0.5-0.1-0.6 0-1 0.5-1 1 0 0.4 0.2 0.8 0.6 0.9 1.3 0.6 2.6 0.9 4.2 0.9 2.9 0 5.4-1.2 5.5-3.9 0-3.2-3.2-3.6-5.6-4z"}),(0,P.jsx)("path",{className:"st5",d:"m245.8 21.1c-1.6-0.2-3.2-0.5-3.2-1.8 0-1.4 1.4-2.1 3.2-2.1 0.8 0 2.2 0.2 2.9 0.5l0.6 0.3c0.1 0.1 0.3 0.1 0.4 0.1 0.5 0 1-0.4 1-1 0-0.4-0.3-0.8-0.6-0.9-0.2-0.1-0.4-0.2-0.6-0.2-1.2-0.4-2.5-0.6-3.6-0.6-2.5 0-5.3 1.1-5.3 3.9 0 2.7 2.7 3.3 5.2 3.7 2 0.2 3.6 0.6 3.6 2.1-0.1 1.7-2.1 2-3.4 2-1.2 0-2.4-0.3-3.4-0.8-0.1-0.1-0.3-0.1-0.5-0.1-0.6 0-1 0.5-1 1 0 0.4 0.2 0.8 0.6 0.9 1.3 0.6 2.6 0.9 4.2 0.9 2.9 0 5.4-1.2 5.5-3.9 0-3.2-3.2-3.6-5.6-4z"})]})}class Ee extends k.Component{constructor(e){super(e),this.state={activeTab:"course",activePanels:[],activeMetaBoxes:[],width:window.innerWidth},this.courseEditor=new meprCourseEditor,this.className="#mpcs-admin-header"}componentDidMount(){if(window.location.hash){const e=window.location.hash.substring(1);this.setState({activeTab:e})}this.resetEditor(this.state.activeTab),window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){this.resetEditor(this.state.activeTab,e)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}handleResize=(0,X.debounce)((()=>{this.setState({width:window.innerWidth})}),1e3);resetEditor(e=null,s={}){const{openGeneralSidebar:t,isEditorSidebarOpened:n,isPublishSidebarOpened:r,isFullscreenMode:i,isDistractionFreeMode:o,toggleFeature:a,activeGeneralSidebarName:c}=this.props;o&&(console.log('You cannot enable "Distraction Free Mode" in courses'),a("distractionFree"));const l=this.getCanvasWidth("Tablet"),d="mpcs-questions-sidebar/mpcs-questions-sidebar"===c&&l;this.courseEditor.setHeaderHeight(),this.courseEditor.maybeHideHeader(n,l),this.courseEditor.maybeHideBlockInserter(e),i?(setTimeout((()=>{this.courseEditor.updateFullscreenLogoLink(),this.courseEditor.setHeaderHeight()}),100),setTimeout((()=>{this.courseEditor.updateFullscreenLogoLink()}),5e3)):setTimeout((()=>{this.courseEditor.setHeaderHeight()}),100),r||d?this.courseEditor.addCSS(this.className,{"z-index":"0"}):this.courseEditor.addCSS(this.className,{"z-index":"999"}),null!==c&&"edit-post/document"!==c&&"course"!=this.state.activeTab?(e=this.state.activeTab,t("edit-post/document").then((s=>{this.showView(e)}))):this.showView(e)}showView(e){"curriculum"==e?this.courseEditor.showCurriculumView():"settings"==e?this.courseEditor.showSettingsView():"resources"==e?this.courseEditor.showResourcesView():"certificates"==e?this.courseEditor.showCertificatesView():this.courseEditor.showDefaultView()}handleTabClick=e=>{e!==this.state.activeTab&&(this.setState({activeTab:e}),this.resetEditor(e))};getCanvasWidth=(e,s=this.state.width)=>{let t;switch(e){case"Tablet":t=780;break;case"Mobile":t=360;break;default:return null}return t>=s};tabClassName(e){return"list-item "+(this.state.activeTab==e?"active":"")}getPostTitle=()=>this.props.postTitle;render(){const{post:e}=this.props;return(0,P.jsx)(k.Fragment,{children:(0,P.jsxs)("div",{id:"mpcs-admin-header",children:[(0,P.jsxs)("div",{className:"logo",children:[(0,P.jsx)(Ce,{}),!this.getCanvasWidth("Tablet")&&(0,P.jsx)("span",{className:"mpcs-header-title inline",children:this.getPostTitle()})]}),this.getCanvasWidth("Tablet")&&(0,P.jsx)("p",{className:"mpcs-header-title block",children:e.title}),this.getCanvasWidth("Tablet")&&null!=MPCS_Course_Data.back_cta_label&&(0,P.jsx)("p",{className:"mpcs-header-title block",children:(0,P.jsxs)("a",{href:MPCS_Course_Data.back_cta_url,className:"align-children",target:"_self",children:[(0,P.jsx)(R.Icon,{icon:z.arrowBack,size:"14"}),"mpcs-course"==e.type&&(0,P.jsx)("span",{children:(0,F.__)("Back to Courses","memberpress-courses")}),("mpcs-lesson"==e.type||"mpcs-quiz"==e.type)&&(0,P.jsx)("span",{children:MPCS_Course_Data.back_cta_label})]})}),(0,P.jsxs)("div",{className:"mpcs-header-nav",children:[!this.getCanvasWidth("Tablet")&&null!=MPCS_Course_Data.back_cta_label&&(0,P.jsxs)("a",{href:MPCS_Course_Data.back_cta_url,className:"align-children",target:"_self",children:[(0,P.jsx)(R.Icon,{icon:z.arrowBack,size:"14"}),"mpcs-course"==e.type&&(0,P.jsx)("span",{className:"mpcs-header-back-text",children:(0,F.__)("Back to Courses","memberpress-courses")}),("mpcs-lesson"==e.type||"mpcs-quiz"==e.type)&&(0,P.jsx)("span",{className:"mpcs-header-back-text",children:MPCS_Course_Data.back_cta_label})]}),"mpcs-course"==e.type&&(0,P.jsxs)("ul",{children:[(0,P.jsx)("li",{className:this.tabClassName("course"),"data-index":"course",children:(0,P.jsx)("a",{onClick:e=>this.handleTabClick("course"),href:"#",children:(0,F.__)("Course Page","memberpress-courses")})}),(0,P.jsx)("li",{className:this.tabClassName("curriculum"),"data-index":"curriculum",children:(0,P.jsx)("a",{onClick:e=>this.handleTabClick("curriculum"),href:"#",children:(0,F.__)("Curriculum","memberpress-courses")})}),(0,P.jsx)("li",{className:this.tabClassName("resources"),"data-index":"resources",children:(0,P.jsx)("a",{onClick:e=>this.handleTabClick("resources"),href:"#",children:(0,F.__)("Resources","memberpress-courses")})}),(0,P.jsx)("li",{className:this.tabClassName("settings"),"data-index":"settings",children:(0,P.jsx)("a",{onClick:e=>this.handleTabClick("settings"),href:"#",children:(0,F.__)("Settings","memberpress-courses")})}),(0,P.jsx)("li",{className:this.tabClassName("certificates"),"data-index":"certificates",children:(0,P.jsx)("a",{onClick:e=>this.handleTabClick("certificates"),href:"#",children:(0,F.__)("Certificate","memberpress-courses")})})]})]})]})})}}const Ne=(0,Z.compose)([(0,o.withDispatch)(((e,s)=>{const{openGeneralSidebar:t}=e("core/edit-post"),{toggleFeature:n}=e("core/edit-post");return{openGeneralSidebar:t,toggleFeature:n}})),(0,o.withSelect)(((e,s)=>({post:e("core/editor").getCurrentPost(),isFullscreenMode:e("core/edit-post").isFeatureActive("fullscreenMode"),isDistractionFreeMode:e("core/edit-post").isFeatureActive("distractionFree"),isPublishSidebarOpened:e("core/edit-post").isPublishSidebarOpened(),activeGeneralSidebarName:e("core/edit-post").getActiveGeneralSidebarName(),isEditorSidebarOpened:e("core/edit-post").isEditorSidebarOpened(),postTitle:e("core/editor").getEditedPostAttribute("title")})))])(Ee),Oe=({heading:e,message:s,edge:t="left"})=>(0,P.jsxs)("span",{className:"admin-tooltip","data-edge":t,children:[(0,P.jsx)("i",{className:"mpcs-icon mpcs-info-circled mpcs-info-icon"}),(0,P.jsx)("span",{className:"data-title hidden",children:e}),(0,P.jsx)("span",{className:"data-info hidden",children:s})]});class Te extends k.Component{constructor(e){super(e)}handleShowAnswersChange(){const{settings:e,updateSettings:s}=this.props,t="enabled"===e.showAnswers.value;t||s("showResults","enabled"),s("showAnswers",t?"disabled":"enabled")}componentDidUpdate(e){const{settings:s,isDirty:t,editPost:n}=this.props;s!==e.settings&&(n({dirty:"true"}),t(!0))}render(){const{settings:e,updateSettings:s}=this.props;return(0,P.jsxs)(k.Fragment,{children:[(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{children:[(0,F.__)("Include in Course Listing","memberpress-courses"),(0,P.jsx)(Oe,{heading:(0,F.__)("Include in Course Listing","memberpress-courses"),message:(0,F.__)("When enabled, this course will be shown on your main courses page. Turn this setting off to hide this course from being found in the main course listing page.","memberpress-courses")})]}),(0,P.jsx)(R.ToggleControl,{checked:"enabled"===e.status.value,onChange:()=>s("status","enabled"===e.status.value?"disabled":"enabled")}),(0,P.jsx)(R.TextControl,{name:G("status"),type:"hidden",value:e.status.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{children:[(0,F.__)("Lesson Title","memberpress-courses"),(0,P.jsx)(Oe,{heading:(0,F.__)("Lesson Title","memberpress-courses"),message:(0,F.__)("When enabled, the title of the lesson will appear above the content when a student is viewing a Lesson. This only applies when ReadyLaunch templates are in use.","memberpress-courses")})]}),(0,P.jsx)(R.ToggleControl,{checked:"enabled"===e.lessonTitle.value,onChange:()=>s("lessonTitle","enabled"===e.lessonTitle.value?"disabled":"enabled")}),(0,P.jsx)(R.TextControl,{name:G("lessonTitle"),type:"hidden",value:e.lessonTitle.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{children:[(0,P.jsx)("span",{children:(0,F.__)("Sales Page","memberpress-courses")}),(0,P.jsx)(Oe,{heading:(0,F.__)("Sales Page","memberpress-courses"),message:(0,F.__)("If the Sales page URL is set for the course then the course URL will simply redirect to the Sales page.","memberpress-courses")})]}),(0,P.jsx)(R.TextControl,{value:e.salesUrl.value,className:"regular-text",onChange:e=>s("salesUrl",e),name:G("salesUrl")})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{children:[(0,P.jsx)("span",{children:(0,F.__)("Require Previous Lesson/Quiz","memberpress-courses")}),(0,P.jsx)(Oe,{heading:(0,F.__)("Require Previous Lesson/Quiz","memberpress-courses"),message:(0,F.__)("Enable this option to require the previous lesson/quiz to be complete before the next lesson/quiz can be started. Note: The first lesson of a section will require the last lesson/quiz of the previous section to be completed.","memberpress-courses")})]}),(0,P.jsx)(R.ToggleControl,{disabled:!0===e.quiz_requires_passing_score||"enabled"==e.dripping.value,checked:"enabled"===e.requirePrevious.value,onChange:()=>s("requirePrevious","enabled"===e.requirePrevious.value?"disabled":"enabled")}),(0,P.jsx)(R.TextControl,{name:G("requirePrevious"),type:"hidden",value:e.requirePrevious.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{children:[(0,P.jsx)("span",{children:(0,F.__)("Show Question Results","memberpress-courses")}),(0,P.jsx)(Oe,{heading:(0,F.__)("Show Question Results","memberpress-courses"),message:(0,F.__)("Selecting this option will show students whether the answer they provided was correct or incorrect. Disable this option if you do not want students to know which questions they answered correctly.","memberpress-courses")})]}),(0,P.jsx)(R.ToggleControl,{checked:"enabled"===e.showResults.value,disabled:"enabled"===e.showAnswers.value,onChange:()=>s("showResults","enabled"===e.showResults.value?"disabled":"enabled")}),(0,P.jsx)(R.TextControl,{name:G("showResults"),type:"hidden",value:e.showResults.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{children:[(0,P.jsx)("span",{children:(0,F.__)("Show Question Answers","memberpress-courses")}),(0,P.jsx)(Oe,{heading:(0,F.__)("Show Question Answers","memberpress-courses"),message:(0,F.__)("Select this option if you want to show students the correct answers after they complete the quiz.","memberpress-courses")})]}),(0,P.jsx)(R.ToggleControl,{checked:"enabled"===e.showAnswers.value,onChange:()=>this.handleShowAnswersChange()}),(0,P.jsx)(R.TextControl,{name:G("showAnswers"),type:"hidden",value:e.showAnswers.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{children:[(0,P.jsx)("span",{children:(0,F.__)("Show Accordion on Course Page","memberpress-courses")}),(0,P.jsx)(Oe,{heading:(0,F.__)("Show Accordion on Course Page","memberpress-courses"),message:(0,F.__)("Select this option if you have a lot of lessons and want to display them on course page in accordion.","memberpress-courses")})]}),(0,P.jsx)(R.ToggleControl,{checked:"enabled"===e.accordionCourse.value,onChange:()=>s("accordionCourse","enabled"===e.accordionCourse.value?"disabled":"enabled")}),(0,P.jsx)(R.TextControl,{name:G("accordionCourse"),type:"hidden",value:e.accordionCourse.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{children:[(0,P.jsx)("span",{children:(0,F.__)("Show Accordion on Sidebar","memberpress-courses")}),(0,P.jsx)(Oe,{heading:(0,F.__)("Show Accordion on Sidebar","memberpress-courses"),message:(0,F.__)("Select this option if you have a lot of lessons and want to show lessons in the sidebar of lesson pages in accordion.","memberpress-courses")})]}),(0,P.jsx)(R.ToggleControl,{checked:"enabled"===e.accordionSidebar.value,onChange:()=>s("accordionSidebar","enabled"===e.accordionSidebar.value?"disabled":"enabled")}),(0,P.jsx)(R.TextControl,{name:G("accordionSidebar"),type:"hidden",value:e.accordionSidebar.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{children:[(0,P.jsx)("span",{children:(0,F.__)("Enable Dripping","memberpress-courses")}),(0,P.jsx)(Oe,{heading:(0,F.__)("Enable Dripping","memberpress-courses"),message:(0,F.__)("When enabled, Lessons and Quizzes can be dripped on a fixed schedule after a user starts the course. It will also enable 'Require Previous Lesson/Quiz' feature.","memberpress-courses")})]}),(0,P.jsx)(R.ToggleControl,{checked:"enabled"===e.dripping.value,onChange:()=>{const t="enabled"===e.dripping.value?"disabled":"enabled";s("dripping",t),"enabled"===t&&s("requirePrevious","enabled")}}),(0,P.jsx)(R.TextControl,{name:G("dripping"),type:"hidden",value:e.dripping.value})]}),"enabled"===e.dripping.value&&(0,P.jsxs)("div",{className:"form-group-dripping",children:[(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,P.jsx)("span",{children:(0,F.__)("Drip Type","memberpress-courses")})}),(0,P.jsx)(R.SelectControl,{name:G("drip_type"),options:[{label:(0,F.__)("By Section","memberpress-courses"),value:"section"},{label:(0,F.__)("By Item","memberpress-courses"),value:"item"}],value:e.drip_type.value,onChange:e=>s("drip_type",e)})]}),"item"===e.drip_type.value&&(0,P.jsx)("div",{className:"mpcs-items-to-drip-wrapper",children:(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,P.jsx)("span",{children:(0,F.__)("Items to Drip","memberpress-courses")})}),(0,P.jsx)(R.CheckboxControl,{className:"mpcs-dripping-checkbox-control",label:(0,F.__)("Lessons","memberpress-courses"),checked:"1"==e.drip_lessons.value,name:G("drip_lessons"),onChange:e=>s("drip_lessons",e)}),MPCS_Course_Data.activePlugins.quizzes&&(0,P.jsx)(R.CheckboxControl,{className:"mpcs-dripping-checkbox-control",label:(0,F.__)("Quizzes","memberpress-courses"),checked:"1"==e.drip_quizzes.value,name:G("drip_quizzes"),onChange:e=>s("drip_quizzes",e)}),MPCS_Course_Data.activePlugins.assignments&&(0,P.jsx)(R.CheckboxControl,{className:"mpcs-dripping-checkbox-control",label:(0,F.__)("Assignments","memberpress-courses"),checked:"1"==e.drip_assignments.value,name:G("drip_assignments"),onChange:e=>s("drip_assignments",e)})]})}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{children:[(0,P.jsx)("span",{children:(0,F.__)("Not Dripped Message","memberpress-courses")}),(0,P.jsx)(Oe,{heading:(0,F.__)("Not Dripped Message","memberpress-courses"),message:(0,P.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,F.__)("<p>This message is shown when a user attempts to view a Lesson, Quiz or Assignment that is not yet available to them. You can use the following parameters in this message to show dynamic content such as dates or schedules. <strong>{mpcs_drip_date}</strong> - The date the item will be available to the current user.<br> <strong>{mpcs_drip_schedule}</strong> - The dripping schedule. Ex: 1 week(s) <br /> <strong>{mpcs_drip_timezone}</strong> The dripping timezone.<br> <strong>{mpcs_drip_time}</strong> - The dripping time<br> <strong>{mpcs_item_type}</strong> - The type of item being viewed. Could be Lesson or Quiz.</p>","memberpress-courses")}}),edge:"right"})]}),(0,P.jsx)(R.TextareaControl,{className:"mpcs-dripping-textarea",name:G("not_dripped_message"),value:e.not_dripped_message.value,onChange:e=>s("not_dripped_message",e)})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsxs)("label",{children:[(0,P.jsx)("span",{children:(0,F.__)("Drip Frequency","memberpress-courses")}),(0,P.jsx)(Oe,{heading:(0,F.__)("Drip Frequency","memberpress-courses"),message:(0,P.jsx)("div",{dangerouslySetInnerHTML:{__html:(0,F.__)("<p>This setting controls how often content is released to users. <br /><strong>Drip Amount:</strong> Specify the number of units. <br><strong>Frequency:</strong> Choose the frequency at which content should be dripped: daily, weekly, or monthly. <br><strong>Types:</strong> Select the basis for the frequency: course start date, fixed date, or completion of the previous item.</p>","memberpress-courses")}}),edge:"right"})]}),(0,P.jsx)(R.__experimentalNumberControl,{className:"mpcs-dripping-amount-control",isShiftStepEnabled:!0,min:"1",max:"365",name:G("drip_amount"),onChange:e=>s("drip_amount",e),value:e.drip_amount.value}),(0,P.jsx)(R.SelectControl,{name:G("drip_frequency"),className:"mpcs-dripping-frequency-control",value:e.drip_frequency.value,options:[{label:(0,F.__)("Daily","memberpress-courses"),value:"daily"},{label:(0,F.__)("Weekly","memberpress-courses"),value:"weekly"},{label:(0,F.__)("Monthly","memberpress-courses"),value:"monthly"}],onChange:e=>s("drip_frequency",e)}),(0,P.jsx)("label",{className:"mpcs-drip-frequency-type-label",children:(0,P.jsx)("span",{children:(0,F.__)("from","memberpress-courses")})}),(0,P.jsx)(R.SelectControl,{name:G("drip_frequency_type"),className:"mpcs-dripping-frequency-control",value:e.drip_frequency_type.value,options:[{label:(0,F.__)("Course Start Date","memberpress-courses"),value:"course_start_date"},{label:(0,F.__)("Fixed Date","memberpress-courses"),value:"fixed_date"},{label:"section"===e.drip_type.value?(0,F.__)("Previous Section Completed","memberpress-courses"):(0,F.__)("Previous Item Completed","memberpress-courses"),value:"previous_item_completed"}],onChange:e=>s("drip_frequency_type",e)}),"fixed_date"===e.drip_frequency_type.value&&(0,P.jsx)(R.TextControl,{className:"mpcs-dripping-fixed-date-control",name:G("drip_frequency_fixed_date"),type:"date",value:e.drip_frequency_fixed_date.value,onChange:e=>s("drip_frequency_fixed_date",e)})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,P.jsx)("span",{children:(0,F.__)("Drip Time","memberpress-courses")})}),(0,P.jsx)(R.SelectControl,{className:"mpcs-dripping-time-control",name:G("drip_time"),value:e.drip_time.value,options:JSON.parse(MPCS_Course_Data.dripping_time_intervals),onChange:e=>s("drip_time",e)}),(0,P.jsx)(R.SelectControl,{className:"mpcs-dripping-timezone-control",name:G("drip_timezone"),value:e.drip_timezone.value,options:JSON.parse(MPCS_Course_Data.dripping_drip_timezones),onChange:e=>s("drip_timezone",e)})]})]})]})}}const De=(0,Z.compose)([(0,o.withDispatch)((e=>{const{updateSettings:s}=e("memberpress/course/settings"),{isDirty:t}=e("memberpress/course/curriculum"),{editPost:n}=e("core/editor");return{updateSettings:s,editPost:n,isDirty:t}})),(0,o.withSelect)((e=>({settings:e("memberpress/course/settings").getAll()})))])(Te),Ae=window.wp.keycodes;function Ie({id:e,content:s,onChange:t,height:n=200}){const r=window.getUserSetting?window.getUserSetting("editor","tmce"):"tmce",i=(0,k.useRef)(!1),[o,a]=(0,k.useState)("html"===r?"html":"tmce");function c(s){window.switchEditors&&o!==s&&(window.switchEditors.go(e,s),a(s))}return(0,k.useEffect)((()=>{if(!i.current)return;const t=window.tinymce.get(e);t&&t.getContent()!==s&&t.setContent(s||"")}),[s]),(0,k.useEffect)((()=>{const{baseURL:s,suffix:r}=window.wpEditorL10n.tinymce;function a(s){const r=(0,Z.debounce)((()=>{const e=s.getContent();e!==s._lastChange&&(s._lastChange=e,t(e))}),250);s.on("Paste Change input Undo Redo",r),s.on("remove",r.cancel),s.on("keydown",(e=>{Ae.isKeyboardEvent.primary(e,"z")&&e.stopPropagation();const{altKey:s}=e;s&&e.keyCode===Ae.F10&&e.stopPropagation()})),s.on("init",(()=>{s.theme&&s.theme.resizeTo&&s.theme.resizeTo(null,n),window.switchEditors&&"tmce"!==o&&window.switchEditors.go(e,o)}))}function c(){const{settings:s}=window.wpEditorL10n.tinymce;s.toolbar1&&(s.toolbar1=s.toolbar1.split(",").filter((e=>!["wp_more","wp_add_media"].includes(e))).join(",")),wp.oldEditor.initialize(e,{tinymce:{...s,content_css:!1,setup:a}})}function l(){"complete"===document.readyState&&c()}return i.current=!0,window.tinymce.EditorManager.overrideDefaults({base_url:s,suffix:r}),"complete"===document.readyState?c():document.addEventListener("readystatechange",l),()=>{document.removeEventListener("readystatechange",l),wp.oldEditor.remove(e)}}),[]),(0,P.jsxs)("div",{className:`mpcs-classic-editor mpcs-classic-editor-mode-${o}`,children:[(0,P.jsxs)("div",{className:"mpcs-classic-editor-tabs",children:[(0,P.jsx)("button",{type:"button",className:"mpcs-switch-tmce",onClick:()=>c("tmce"),children:(0,F.__)("Visual","memberpress-courses")}),(0,P.jsx)("button",{type:"button",className:"mpcs-switch-html",onClick:()=>c("html"),children:(0,F.__)("Text","memberpress-courses")})]}),(0,P.jsx)("div",{className:"mpcs-classic-editor-field",children:(0,P.jsx)("textarea",{id:e,className:"mpcs-classic-editor-tinymce",value:s,onChange:e=>t(e.target.value)})})]})}const Pe=({openModal:e,onCloseModal:s,curentDownloads:t,onAddFileToSection:n})=>{const[r,i]=(0,k.useState)(!1),[a,c]=(0,k.useState)(""),{filterDownloads:l}=(0,o.useDispatch)("memberpress/course/resources"),d=(0,o.useSelect)((e=>{if(r)return e("memberpress/course/resources").fetchDownloads()}),[r]);(0,k.useEffect)((()=>{i(e)}),[e]);const u=e=>{l(e)};return(0,P.jsx)(k.Fragment,{children:r&&(0,P.jsxs)(R.Modal,{size:"large",className:"downloads-modal",title:"Add Downloads",onRequestClose:()=>{i(!1),s()},children:[(0,P.jsx)(R.__experimentalInputControl,{value:a,onChange:e=>{c(e||""),(e=>{if(e&&e.length>=2)u(e);else{if(1==e.length)return;u("")}})(e)},placeholder:(0,F.__)("Search downloads...","memberpress-courses")}),(0,P.jsx)(R.__experimentalItemGroup,{className:"resources_download",children:d.downloads.map(((e,s)=>{return(0,P.jsx)(R.__experimentalItem,{className:"resources_download__item",children:(0,P.jsxs)("label",{htmlFor:`mpcs-download-${e.id}`,children:[(0,P.jsxs)("span",{children:["icon"===e.thumb?(0,P.jsx)("i",{className:`${e.icon} mpdl-icon mpcs-icon large`}):"image"===e.thumb?(0,P.jsx)("img",{className:"resources_download__thumb",src:e.thumb_url,alt:e.title}):null,(0,P.jsx)("input",{type:"checkbox",className:"visuallyhidden",id:`mpcs-download-${e.id}`,value:e.id,onClick:()=>(e=>{n("downloads",e)})(e)}),e.title]}),(r=e.id,t.some((e=>e.id==r))&&(0,P.jsx)(R.Dashicon,{icon:"yes"}))]})},s);var r}))}),!d.downloads.length&&(0,P.jsx)("p",{children:(0,F.__)("No downloads found")}),d.downloads.length>0&&(0,P.jsx)("p",{className:"resources_download__footer",children:(0,F.__)(`Showing 1-${d.meta.count} of ${d.meta.total} Downloads`)})]})})},Le=({openModal:e,onCloseModal:s,onAddLinkToSection:t})=>{const[n,r]=(0,k.useState)(!1),[i,a]=(0,k.useState)(""),[l,d]=(0,k.useState)(""),[u,p]=(0,k.useState)({}),{filterDownloads:m}=(0,o.useDispatch)("memberpress/course/resources");(0,o.useSelect)((e=>{if(n)return e("memberpress/course/resources").fetchDownloads()}),[n]),(0,k.useEffect)((()=>{r(e)}),[e]);const h=()=>{r(!1),s()};return(0,P.jsx)(k.Fragment,{children:n&&(0,P.jsxs)(R.Modal,{size:"large",className:"links-modal",title:"Add Link",onRequestClose:h,children:[(0,P.jsxs)("div",{children:[(0,P.jsx)(R.TextControl,{value:i,onChange:e=>{a(e||"")},label:(0,F.__)("URL"),required:!0}),(0,P.jsx)("p",{className:"text-error",children:u.url}),(0,P.jsx)(R.TextControl,{value:l,onChange:e=>{d(e||"")},label:(0,F.__)("Text")})]}),(0,P.jsx)("div",{className:"resources_download__footer",children:(0,P.jsx)(R.Button,{variant:"primary",onClick:async()=>{p({});const e=await c()({path:"/mpcs/courses/validate/links",method:"POST",data:{url:i,label:l}});if(a(e.url),d(e.label),p(e.errors),u.length>0||Object.keys(e.errors).length>0)return;const s={id:ve(),url:i,label:l};t("links",s),h()},children:"Add Link"})})]})})};var ze=t(609);const ke=({index:e,download:s,sectionId:t,onAddFileToSection:n})=>{const[r,i]=(0,ze.useState)(!1),a=(0,o.useSelect)("memberpress/course/resources").getAll(),{removeResource:c}=(0,o.useDispatch)("memberpress/course/resources");return(0,P.jsx)(I.Draggable,{className:"mpcs-card-wrapper",children:(0,P.jsxs)("div",{className:r?"mepr-lesson mpcs-card":"mepr-lesson",onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)},"data-post":s.id,children:[(0,P.jsx)("a",{className:"mepr-lesson-drag-handle",children:r&&(0,P.jsx)(k.Fragment,{children:(0,P.jsx)(R.Icon,{icon:z.draggable,size:"16"})})}),(0,P.jsx)("i",{className:"mpcs-download"}),(0,P.jsx)("div",{className:"editable-input",children:(0,P.jsx)("span",{className:"content",children:s.title})}),r&&(0,P.jsxs)("div",{className:"mepr-actions",children:[(0,P.jsx)(R.Animate,{options:{origin:"middle center"},type:"appear",children:({className:e})=>(0,P.jsx)("a",{className:e,href:Q(s.url),children:(0,P.jsx)(R.Icon,{icon:z.view,size:"14"})})}),(0,P.jsx)(R.Animate,{options:{origin:"bottom center"},type:"appear",children:({className:n})=>(0,P.jsxs)("a",{className:n,href:"#0",onClick:()=>((e,s)=>{c(s,e,t,a)})(s.id,e),children:[(0,P.jsx)(R.Icon,{icon:z.close,size:"14"})," "]})})]})]})},e)},Re=({index:e,link:s,sectionId:t,onAddFileToSection:n})=>{const[r,i]=(0,ze.useState)(!1),a=(0,o.useSelect)("memberpress/course/resources").getAll(),{removeResource:c}=(0,o.useDispatch)("memberpress/course/resources");return(0,P.jsx)(I.Draggable,{className:"mpcs-card-wrapper",children:(0,P.jsxs)("div",{className:r?"mepr-lesson mpcs-card":"mepr-lesson",onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)},"data-post":s.id,children:[(0,P.jsx)("a",{className:"mepr-lesson-drag-handle",children:r&&(0,P.jsx)(k.Fragment,{children:(0,P.jsx)(R.Icon,{icon:z.draggable,size:"16"})})}),(0,P.jsx)("i",{className:"mpcs-link"}),(0,P.jsx)("div",{className:"editable-input",children:(0,P.jsx)("span",{className:"content",children:s.label||s.url})}),r&&(0,P.jsxs)("div",{className:"mepr-actions",children:[(0,P.jsx)(R.Animate,{options:{origin:"middle center"},type:"appear",children:({className:e})=>(0,P.jsx)("a",{className:e,href:Q(s.url),children:(0,P.jsx)(R.Icon,{icon:z.view,size:"14"})})}),(0,P.jsx)(R.Animate,{options:{origin:"bottom center"},type:"appear",children:({className:n})=>(0,P.jsxs)("a",{className:n,href:"#0",onClick:()=>((e,s)=>{c(s,e,t,a)})(s.id,e),children:[(0,P.jsx)(R.Icon,{icon:z.close,size:"14"})," "]})})]})]})},e)};class Me extends k.Component{constructor(e){super(e),this.state={isEditingDownloadsSection:!1,isEditingLinksSection:!1,isEditingCustomSection:!1,isAdding:!1,isAddingLoader:!1,isDownloadsAddonActive:MPCS_Course_Data.activePlugins.downloads},this.mediaFrame=wp.media({title:"Select or Upload Media",button:{text:"Use this media"},multiple:!1}),this.mediaFrame.on("select",(()=>{const e=this.mediaFrame.state().get("selection").first().toJSON(),s={id:e.id,title:e.title,url:e.url,type:"attachment",thumb:e.type};this.addFileToSection("downloads",s)}))}openMediaLibrary=()=>{this.mediaFrame.open()};componentDidUpdate(e){const{settings:s,isDirty:t,editPost:n}=this.props;s!==e.settings&&(n({dirty:"true"}),t(!0))}updateTitle(e,s){const t={...this.props.resources.sections,[e]:{...this.props.resources.sections[e],label:s}};this.props.updateSection(t)}updateCustom(e){const{resources:s,addResource:t,removeResource:n}=this.props;e.length?(s.sections.custom.items=[],t({id:"custom",content:e},"custom",s)):n(0,"custom","custom",s)}addFileToSection(e,s){const{resources:t,addResource:n}=this.props;t.items[s.id]||n(s,e,t)}addLinkToSection(e,s){const{resources:t,addResource:n}=this.props;Object.values(t.items).some((e=>e.url===s.url))||n(s,e,t)}onItemDrop=(e,s)=>{if(0==Number.isInteger(s.removedIndex)&&0==Number.isInteger(s.addedIndex))return;const{resources:t,reorderItems:n}=this.props;let{payload:r}=s;const i=t.sections[e];n(i,U(i.items,s))};render(){const{resources:e}=this.props,s=(0,k.createRef)(),t=(0,k.createRef)(),n=(0,k.createRef)();let r=e.sections.downloads;const i=r.items.map((s=>e.items[s])).filter((e=>void 0!==e));r=e.sections.links;const o=r.items.map((s=>e.items[s])).filter((e=>void 0!==e));return(0,P.jsxs)(k.Fragment,{children:[(0,P.jsxs)("section",{className:"mepr-resource-section",children:[(0,P.jsx)("div",{className:"mepr-title notransition",children:(0,P.jsx)(M,{text:e.sections.downloads.label,placeholder:(0,F.__)("Downloads","memberpress-courses"),childRef:s,type:"input",element:"h3",isEditing:this.state.isEditingDownloadsSection,setEditing:e=>{this.setState({isEditingDownloadsSection:e})},children:(0,P.jsx)("input",{ref:s,type:"text",placeholder:(0,F.__)("Downloads","memberpress-courses"),value:e.sections.downloads.label,onChange:e=>this.updateTitle("downloads",e.target.value)})})}),(0,P.jsx)(I.Container,{groupName:"downloads",dragHandleSelector:".mepr-lesson-drag-handle",onDrop:s=>this.onItemDrop(e.sections.downloads.id,s),dragClass:"mepr-lesson-ghost",dropClass:"mepr-lesson-ghost-drop",dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"lessons-drop-preview"},dropPlaceholderAnimationDuration:200,children:i.map(((s,t)=>(0,P.jsx)(ke,{download:s,index:t,sectionId:e.sections.downloads.id},s.id)))}),(0,P.jsxs)("div",{className:"mepr-add-controls",children:[this.state.isDownloadsAddonActive&&(0,P.jsxs)(k.Fragment,{children:[(0,P.jsx)("button",{className:"mpcs-link-button",onClick:()=>{this.setState({isAdding:"downloads",isAddingLoader:!1})},type:"button",children:(0,F.__)("Add Download","memberpress-courses")}),(0,P.jsx)("span",{className:"mpcs-add-controls-or",children:(0,F.__)(" or ","memberpress-courses")})]}),(0,P.jsx)("button",{className:"mpcs-link-button",onClick:this.openMediaLibrary,type:"button",children:(0,F.__)("Add Media","memberpress-courses")})]}),"downloads"===this.state.isAdding&&(0,P.jsx)(Pe,{openModal:"downloads"===this.state.isAdding,onCloseModal:()=>this.setState({isAdding:null}),onAddFileToSection:this.addFileToSection.bind(this),curentDownloads:i})]}),(0,P.jsxs)("section",{className:"mepr-resource-section",children:[(0,P.jsx)("div",{className:"mepr-title notransition",children:(0,P.jsx)(M,{text:e.sections.links.label,placeholder:(0,F.__)("Links","memberpress-courses"),childRef:t,type:"input",element:"h3",isEditing:this.state.isEditingLinksSection,setEditing:e=>{this.setState({isEditingLinksSection:e})},children:(0,P.jsx)("input",{ref:t,type:"text",placeholder:(0,F.__)("Links","memberpress-courses"),value:e.sections.links.label,onChange:e=>this.updateTitle("links",e.target.value)})})}),(0,P.jsx)(I.Container,{groupName:"links",dragHandleSelector:".mepr-lesson-drag-handle",onDrop:s=>this.onItemDrop(e.sections.links.id,s),dragClass:"mepr-lesson-ghost",dropClass:"mepr-lesson-ghost-drop",dropPlaceholder:{animationDuration:150,showOnTop:!0,className:"lessons-drop-preview"},dropPlaceholderAnimationDuration:200,children:o.map(((s,t)=>(0,P.jsx)(Re,{link:s,index:t,sectionId:e.sections.links.id},s.id)))}),(0,P.jsx)("div",{className:"mepr-add-controls",children:(0,P.jsx)(k.Fragment,{children:(0,P.jsx)("button",{className:"mpcs-link-button",onClick:()=>{this.setState({isAdding:"links",isAddingLoader:!1})},type:"button",children:(0,F.__)("Add Link","memberpress-courses")})})}),"links"===this.state.isAdding&&(0,P.jsx)(Le,{openModal:"links"===this.state.isAdding,onCloseModal:()=>this.setState({isAdding:null}),onAddLinkToSection:this.addLinkToSection.bind(this)})]}),(0,P.jsxs)("section",{className:"mepr-resource-section",children:[(0,P.jsx)("div",{className:"mepr-title notransition",children:(0,P.jsx)(M,{text:e.sections.custom.label,placeholder:(0,F.__)("Custom","memberpress-courses"),childRef:n,type:"input",element:"h3",isEditing:this.state.isEditingCustomSection,setEditing:e=>{this.setState({isEditingCustomSection:e})},children:(0,P.jsx)("input",{ref:n,type:"text",placeholder:(0,F.__)("Custom","memberpress-courses"),value:e.sections.custom.label,onChange:e=>this.updateTitle("custom",e.target.value)})})}),(0,P.jsx)("div",{className:"mpcs-custom-resource-field",children:(0,P.jsx)(Ie,{id:"mpcs-resource-custom",content:e.items.custom?e.items.custom.content:"",onChange:e=>this.updateCustom(e)})})]}),(0,P.jsx)("div",{className:"form-group",children:(0,P.jsx)("input",{type:"hidden",name:"mpcs-resources",value:JSON.stringify(e)})})]})}}const qe=(0,Z.compose)([(0,o.withDispatch)((e=>{const{updateSection:s,addResource:t,removeResource:n,reorderItems:r}=e("memberpress/course/resources");return{updateSection:s,addResource:t,removeResource:n,reorderItems:r}})),(0,o.withSelect)((e=>({resources:e("memberpress/course/resources").getAll()})))])(Me),Fe=window.wp.blockEditor;class Be extends k.Component{constructor(e){super(e)}componentDidUpdate(e){const{settings:s,editPost:t}=this.props;s!==e.settings&&t({dirty:"true"})}render(){const{settings:e,updateSettings:s}=this.props;return(0,P.jsxs)(k.Fragment,{children:[(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Enable certificate on this course","memberpress-courses")}),(0,P.jsx)(R.ToggleControl,{checked:"enabled"===e.certificates.value,onChange:()=>s("certificates","enabled"===e.certificates.value?"disabled":"enabled")}),(0,P.jsx)(R.TextControl,{name:G("certificates"),type:"hidden",value:e.certificates.value})]}),(0,P.jsxs)("div",{className:"enabled"===e.certificates.value?void 0:"hidden",children:[(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Force PDF download","memberpress-courses")}),(0,P.jsx)(R.ToggleControl,{checked:"enabled"===e.certificates_force_download_pdf.value,onChange:()=>s("certificates_force_download_pdf","enabled"===e.certificates_force_download_pdf.value?"disabled":"enabled")}),(0,P.jsx)(R.TextControl,{name:G("certificates_force_download_pdf"),type:"hidden",value:e.certificates_force_download_pdf.value})]}),(0,P.jsxs)("div",{className:"form-group ",children:[(0,P.jsx)("label",{children:(0,F.__)("Paper Size","memberpress-courses")}),(0,P.jsx)(R.SelectControl,{value:e.certificates_paper_size.value,options:[{label:"A4",value:"A4"},{label:"Letter",value:"letter"}],onChange:e=>s("certificates_paper_size",e),__nextHasNoMarginBottom:!0}),(0,P.jsx)(R.TextControl,{name:G("certificates_paper_size"),type:"hidden",value:e.certificates_paper_size.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Select style","memberpress-courses")}),(0,P.jsxs)("div",{className:"mpcs-certificate-style-selector",children:[(0,P.jsx)("div",{className:"mpcs-certificate-style "+("style_a"===e.certificates_style.value?"selected":""),onClick:()=>{s("certificates_style","style_a")},children:(0,P.jsx)("img",{src:`${e.certificates_style.base_img_url}/Certificate_1-pdf.jpg`})}),(0,P.jsx)("div",{className:"mpcs-certificate-style "+("style_b"===e.certificates_style.value?"selected":""),onClick:()=>{s("certificates_style","style_b")},children:(0,P.jsx)("img",{src:`${e.certificates_style.base_img_url}/Certificate_2-pdf.jpg`})}),(0,P.jsx)("div",{className:"mpcs-certificate-style "+("style_c"===e.certificates_style.value?"selected":""),onClick:()=>{s("certificates_style","style_c")},children:(0,P.jsx)("img",{src:`${e.certificates_style.base_img_url}/Certificate_3-pdf.jpg`})})]}),(0,P.jsx)(R.TextControl,{name:G("certificates_style"),type:"hidden",value:e.certificates_style.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Upload a logo","memberpress-courses")}),(0,P.jsx)(Fe.MediaUploadCheck,{children:(0,P.jsx)(Fe.MediaUpload,{onSelect:e=>{s("certificates_logo",e.url)},allowedTypes:["image"],value:e.certificates_logo.value,render:({open:e})=>(0,P.jsx)(R.Button,{onClick:e,children:(0,F.__)("Open Media Library","memberpress-courses")})})}),(0,P.jsx)("img",{src:e.certificates_logo.value,className:"preview-image"}),(0,P.jsxs)("span",{className:"remove-button",hidden:0==e.certificates_logo.value.length,onClick:e=>{s("certificates_logo","")},children:[" ",(0,F.__)("Remove","memberpress-courses")]}),(0,P.jsx)(R.TextControl,{name:G("certificates_logo"),type:"hidden",value:e.certificates_logo.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Bottom logo","memberpress-courses")}),(0,P.jsx)(Fe.MediaUploadCheck,{children:(0,P.jsx)(Fe.MediaUpload,{onSelect:e=>{s("certificates_bottom_logo",e.url)},allowedTypes:["image"],value:e.certificates_bottom_logo.value,render:({open:e})=>(0,P.jsx)(R.Button,{onClick:e,children:(0,F.__)("Open Media Library","memberpress-courses")})})}),(0,P.jsx)("img",{src:e.certificates_bottom_logo.value,className:"preview-image"}),(0,P.jsxs)("span",{className:"remove-button",hidden:0==e.certificates_bottom_logo.value.length,onClick:e=>{s("certificates_bottom_logo","")},children:[" ",(0,F.__)("Remove","memberpress-courses")]}),(0,P.jsx)(R.TextControl,{name:G("certificates_bottom_logo"),type:"hidden",value:e.certificates_bottom_logo.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Instructor Signature","memberpress-courses")}),(0,P.jsx)(Fe.MediaUploadCheck,{children:(0,P.jsx)(Fe.MediaUpload,{onSelect:e=>{s("certificates_instructor_signature",e.url)},allowedTypes:["image"],value:e.certificates_instructor_signature.value,render:({open:e})=>(0,P.jsx)(R.Button,{onClick:e,children:(0,F.__)("Open Media Library","memberpress-courses")})})}),(0,P.jsx)("img",{src:e.certificates_instructor_signature.value,className:"preview-image"}),(0,P.jsxs)("span",{className:"remove-button",hidden:0==e.certificates_instructor_signature.value.length,onClick:e=>{s("certificates_instructor_signature","")},children:[" ",(0,F.__)("Remove","memberpress-courses")]}),(0,P.jsx)(R.TextControl,{name:G("certificates_instructor_signature"),type:"hidden",value:e.certificates_instructor_signature.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Title","memberpress-courses")}),(0,P.jsx)(R.TextControl,{name:G("certificates_title"),onChange:e=>s("certificates_title",e),value:e.certificates_title.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Instructor Name","memberpress-courses")}),(0,P.jsx)(R.TextControl,{name:G("certificates_instructor_name"),onChange:e=>s("certificates_instructor_name",e),value:e.certificates_instructor_name.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Instructor Title","memberpress-courses")}),(0,P.jsx)(R.TextControl,{name:G("certificates_instructor_title"),onChange:e=>s("certificates_instructor_title",e),value:e.certificates_instructor_title.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Footer message","memberpress-courses")}),(0,P.jsx)(R.TextareaControl,{name:G("certificates_footer_message"),onChange:e=>s("certificates_footer_message",e),value:e.certificates_footer_message.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Text color","memberpress-courses")}),(0,P.jsx)(R.ColorPicker,{color:e.certificates_text_color.value,onChangeComplete:e=>{s("certificates_text_color",e.hex)},defaultValue:"#000"}),(0,P.jsx)(R.TextControl,{name:G("certificates_text_color"),type:"hidden",value:e.certificates_text_color.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Completion Date","memberpress-courses")}),(0,P.jsx)(R.ToggleControl,{checked:"enabled"===e.certificates_completion_date.value,onChange:()=>s("certificates_completion_date","enabled"===e.certificates_completion_date.value?"disabled":"enabled")}),(0,P.jsx)(R.TextControl,{name:G("certificates_completion_date"),type:"hidden",value:e.certificates_completion_date.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Expiration Date","memberpress-courses")}),(0,P.jsx)(R.ToggleControl,{checked:"enabled"===e.certificates_expiration_date.value,onChange:()=>s("certificates_expiration_date","enabled"===e.certificates_expiration_date.value?"disabled":"enabled")}),(0,P.jsx)(R.TextControl,{name:G("certificates_expiration_date"),type:"hidden",value:e.certificates_expiration_date.value})]}),(0,P.jsxs)("div",{className:"form-group",style:"enabled"===e.certificates_expiration_date.value?{padding:"0 3%"}:{padding:"0 3%",display:"none"},children:[(0,P.jsx)("label",{children:(0,F.__)("Reset progress","memberpress-courses")}),(0,P.jsx)(R.ToggleControl,{label:(0,F.__)("Reset students course progress when certificate expire","memberpress-courses"),checked:"enabled"===e.certificates_expires_reset.value,onChange:()=>s("certificates_expires_reset","enabled"===e.certificates_expires_reset.value?"disabled":"enabled")})]}),(0,P.jsxs)("div",{className:"form-group",style:"enabled"===e.certificates_expiration_date.value?{padding:"0 3%"}:{padding:"0 3%",display:"none"},children:[(0,P.jsx)("label",{children:(0,F.__)("Expires","memberpress-courses")}),(0,P.jsx)("div",{className:"mpcs-cert-expires",children:(0,P.jsx)(R.TextControl,{name:G("certificates_expires_value"),onChange:e=>s("certificates_expires_value",e),type:"number",value:e.certificates_expires_value.value})}),(0,P.jsx)(R.SelectControl,{value:e.certificates_expires_unit.value,options:[{label:"Days",value:"day"},{label:"Weeks",value:"week"},{label:"Months",value:"month"},{label:"Years",value:"year"}],onChange:e=>s("certificates_expires_unit",e),__nextHasNoMarginBottom:!0}),(0,P.jsx)(R.TextControl,{name:G("certificates_expires_value"),type:"hidden",value:e.certificates_expires_value.value}),(0,P.jsx)(R.TextControl,{name:G("certificates_expires_unit"),type:"hidden",value:e.certificates_expires_unit.value}),(0,P.jsx)(R.TextControl,{name:G("certificates_expires_reset"),type:"hidden",value:e.certificates_expires_reset.value})]}),(0,P.jsxs)("div",{className:"form-group",children:[(0,P.jsx)("label",{children:(0,F.__)("Enable Shareable Link","memberpress-courses")}),(0,P.jsx)(R.ToggleControl,{checked:"enabled"===e.certificates_share_link.value,onChange:()=>s("certificates_share_link","enabled"===e.certificates_share_link.value?"disabled":"enabled")}),(0,P.jsx)(R.TextControl,{name:G("certificates_share_link"),type:"hidden",value:e.certificates_share_link.value})]})]})]})}}const Ue=(0,Z.compose)([(0,o.withDispatch)((e=>{const{updateSettings:s}=e("memberpress/course/certificates"),{editPost:t}=e("core/editor");return{updateSettings:s,editPost:t}})),(0,o.withSelect)((e=>({settings:e("memberpress/course/certificates").getAll()})))])(Be);function He(e,s){s&&(k.createRoot?(0,k.createRoot)(s).render(e):(0,k.render)(e,s))}i()((()=>{He((0,P.jsx)(Ne,{}),document.getElementById("mpcs-admin-header-wrapper")),He((0,P.jsx)(_e,{}),document.getElementById("curriculum-builder")),He((0,P.jsx)(qe,{}),document.getElementById("mpcs-resources-settings")),He((0,P.jsx)(De,{}),document.getElementById("mpcs-admin-settings")),He((0,P.jsx)(Ue,{}),document.getElementById("mpcs-certificates-settings"))})),(0,n.registerPlugin)("mpcs-lesson-panel",{render:()=>"mpcs-course"!==wp.data.select("core/editor").getCurrentPostType()?null:(0,P.jsx)(we,{}),icon:""}),MPCS_Course_Data.activePlugins.quizzes&&(0,n.registerPlugin)("mpcs-quiz-panel",{render:()=>"mpcs-course"!==wp.data.select("core/editor").getCurrentPostType()?null:(0,P.jsx)(je,{}),icon:""}),MPCS_Course_Data.activePlugins.assignments&&(0,n.registerPlugin)("mpcs-assignment-panel",{render:()=>"mpcs-course"!==wp.data.select("core/editor").getCurrentPostType()?null:(0,P.jsx)(ne,{}),icon:""})},694:(e,s,t)=>{"use strict";var n=t(925);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,s,t,r,i,o){if(o!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function s(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,elementType:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:i,resetWarningCache:r};return t.PropTypes=t,t}},556:(e,s,t)=>{e.exports=t(694)()},925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},992:(e,s)=>{"use strict";var t=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function r(e){try{return encodeURIComponent(e)}catch(e){return null}}s.stringify=function(e,s){s=s||"";var n,i,o=[];for(i in"string"!=typeof s&&(s="?"),e)if(t.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=r(i),n=r(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?s+o.join("&"):""},s.parse=function(e){for(var s,t=/([^=?#&]+)=?([^&]*)/g,r={};s=t.exec(e);){var i=n(s[1]),o=n(s[2]);null===i||null===o||i in r||(r[i]=o)}return r}},63:e=>{"use strict";e.exports=function(e,s){if(s=s.split(":")[0],!(e=+e))return!1;switch(s){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},69:function(e,s){!function(e){"use strict";var s,t,n="smooth-dnd-container-instance",r="smooth-dnd-draggable-wrapper",i="animated",o="__smooth_dnd_draggable_translation_value",a="__smooth_dnd_draggable_visibility_value",c="smooth-dnd-ghost",l="smooth-dnd-container",d="smooth-dnd-extra-size-for-insertion",u="smooth-dnd-stretcher-element",p="smooth-dnd-stretcher-instance",m="smooth-dnd-disable-touch-action",h="smooth-dnd-no-user-select",g="smooth-dnd-prevent-auto-scroll-class",f="smooth-dnd-drop-preview-default-class",b="smooth-dnd-drop-preview-inner-class",v="smooth-dnd-drop-preview-constant-class",x="smooth-dnd-drop-preview-flex-container-class",_=Object.freeze({containerInstance:n,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:r,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:i,translationValue:o,visibilityValue:a,ghostClass:c,containerClass:l,extraSizeForInsertion:d,stretcherElementClass:u,stretcherElementInstance:p,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:m,noUserSelectClass:h,preventAutoScrollClass:g,dropPlaceholderDefaultClass:f,dropPlaceholderInnerClass:b,dropPlaceholderWrapperClass:v,dropPlaceholderFlexContainerClass:x}),y={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function j(e){return function(e){if(Array.isArray(e)){for(var s=0,t=new Array(e.length);s<e.length;s++)t[s]=e[s];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e,s,t){return"x"===t?{left:Math.max(e.left,s.left),top:e.top,right:Math.min(e.right,s.right),bottom:e.bottom}:{left:e.left,top:Math.max(e.top,s.top),right:e.right,bottom:Math.min(e.bottom,s.bottom)}}function E(e){var t=window.getComputedStyle(e),n=t.overflow;if("auto"===n||"scroll"===n)return s.xy;var r=t["overflow-x"],i="auto"===r||"scroll"===r,o=t["overflow-y"],a="auto"===o||"scroll"===o;return i&&a?s.xy:i?s.x:a?s.y:null}function N(e,s){var t=window.getComputedStyle(e),n=t.overflow,r=t["overflow-".concat(s)];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r}(t=s||(s={})).x="x",t.y="y",t.xy="xy";var O=function(e,s){return{left:Math.max(e.left,s.left),top:Math.max(e.top,s.top),right:Math.min(e.right,s.right),bottom:Math.min(e.bottom,s.bottom)}},T=function(e){var s=e.getBoundingClientRect(),t={left:s.left,right:s.right,top:s.top,bottom:s.bottom};if(A(e,"x")&&!D(e,"x")){var n=t.right-t.left;t.right=t.right+e.scrollWidth-n}if(A(e,"y")&&!D(e,"y")){var r=t.bottom-t.top;t.bottom=t.bottom+e.scrollHeight-r}return t},D=function(e,s){var t=window.getComputedStyle(e),n=t.overflow,r=t["overflow-".concat(s)];return"auto"===n||"scroll"===n||"hidden"===n||"auto"===r||"scroll"===r||"hidden"===r},A=function(e,s){return"x"===s?e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight},I=function(e,s){var t=e,n=s||T(e);for(t=e.parentElement;t;)A(t,"x")&&D(t,"x")&&(n=C(n,t.getBoundingClientRect(),"x")),A(t,"y")&&D(t,"y")&&(n=C(n,t.getBoundingClientRect(),"y")),t=t.parentElement;return n},P=function(e,s){for(var t=e;t;){if(t[n]){var r=function(){var e=t[n];if(s.some((function(s){return s===e})))return{v:e}}();if("object"===w(r))return r.v}t=t.parentElement}return null},L=function(e,s){for(var t=e;t;){if(t.matches(s))return t;t=t.parentElement}return null},z=function(e,s){return-1<e.className.split(" ").map((function(e){return e})).indexOf(s)},k=function(e,s){if(e){var t=e.className.split(" ").filter((function(e){return e}));-1===t.indexOf(s)&&(t.unshift(s),e.className=t.join(" "))}},R=function(e,s){if(e){var t=e.className.split(" ").filter((function(e){return e&&e!==s}));e.className=t.join(" ")}},M=function(e,s){return e.removeChild(e.children[s])},q=function(e,s,t){t>=e.children.length?e.appendChild(s):e.insertBefore(s,e.children[t])},F=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},B=function(e){if(e){var s=window.getComputedStyle(e);if(s)return s.cursor}return null};function U(e){return!(e.bottom<=e.top||e.right<=e.left)}function H(e){var s=e.element,t=e.draggables;return function(e,n){var i=e,o=i.removedIndex,a=i.addedIndex,c=i.droppedElement,l=null;if(null!==o&&(l=M(s,o),t.splice(o,1)),null!==a){var d=window.document.createElement("div");d.className="".concat(r),d.appendChild(l&&l.firstElementChild?l.firstElementChild:c),q(s,d,a),a>=t.length?t.push(d):t.splice(a,0,d)}n&&n(e)}}var V=Object.freeze({domDropHandler:H,reactDropHandler:function(){return{handler:function(){return function(e,s){s&&s(e)}}}}}),W={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(e){return"translate3d(".concat(e,"px, 0, 0)")}}},Q={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(e){return"translate3d(0,".concat(e,"px, 0)")}}};function G(e,s,t){e[d]=0;var n=function(e){return{get:function(s,t){return s[e[t]||t]},set:function(s,t,n){s[e[t]]=e.setters[t]?e.setters[t](n):n}}}("horizontal"===s?W:Q),r={translation:0};function i(){c(e),function(e){var s=e.getBoundingClientRect();r.scaleX=e.offsetWidth?(s.right-s.left)/e.offsetWidth:1,r.scaleY=e.offsetHeight?(s.bottom-s.top)/e.offsetHeight:1}(e)}function c(e){r.rect=T(e);var s=I(e,r.rect);U(s)&&(r.lastVisibleRect=r.visibleRect),r.visibleRect=s}function l(e){var t=e;if(t.tagName){var i=t.getBoundingClientRect();return"vertical"===s?i.bottom-i.top:i.right-i.left}return n.get(e,"size")*n.get(r,"scale")}function u(e){return n.get(e,"dragPosition")}return window.addEventListener("resize",(function(){c(e)})),setTimeout((function(){i()}),10),{getSize:l,getContainerRectangles:function(){return{rect:r.rect,visibleRect:r.visibleRect,lastVisibleRect:r.lastVisibleRect}},getBeginEndOfDOMRect:function(e){return{begin:n.get(e,"begin"),end:n.get(e,"end")}},getBeginEndOfContainer:function(){return{begin:n.get(r.rect,"begin")+r.translation,end:n.get(r.rect,"end")+r.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:n.get(r.visibleRect,"begin")+r.translation,end:n.get(r.visibleRect,"end")+r.translation}},getBeginEnd:function(s){var t=function(e){return(n.get(e,"distanceToParent")+(e[o]||0))*n.get(r,"scale")}(s)+(n.get(r.rect,"begin")+r.translation)-n.get(e,"scrollValue");return{begin:t,end:t+l(s)*n.get(r,"scale")}},getAxisValue:u,setTranslation:function(e,s){s?n.set(e.style,"translate",s):e.style.removeProperty("transform"),e[o]=s},getTranslation:function(e){return e[o]},setVisibility:function(e,s){void 0!==e[a]&&e[a]===s||(s?e.style.removeProperty("visibility"):e.style.visibility="hidden",e[a]=s)},isVisible:function(e){return void 0===e[a]||e[a]},isInVisibleRect:function(e,t){var n=r.visibleRect,i=n.left,o=n.top,a=n.right,c=n.bottom;c-o<2&&(c=o+30);var l=r.rect;return"vertical"===s?e>l.left&&e<l.right&&o<t&&t<c:i<e&&e<a&&t>l.top&&t<l.bottom},setSize:function(e,s){n.set(e,"setSize",s)},getTopLeftOfElementBegin:function(e){var t=0;return{top:"horizontal"===s?(t=e,r.rect.top):(t=r.rect.left,e),left:t}},getScrollSize:function(e){return n.get(e,"scrollSize")},getScrollValue:function(e){return n.get(e,"scrollValue")},setScrollValue:function(e,s){return n.set(e,"scrollValue",s)},invalidate:i,invalidateRects:function(){c(e)},getPosition:function(e){return u(e)},setBegin:function(e,s){n.set(e,"begin",s)}}}function X(e,s,t){var n,r,i,o=t.left,a=t.right,c=t.top,l=t.bottom,d=e.x,u=e.y;if(d<o||a<d||u<c||l<u)return null;i="x"===s?(n=o,r=a,d):(n=c,r=l,u);var p=r-n,m=400<p?100:p/4;return r-i<m?{direction:"end",speedFactor:(m-(r-i))/m}:i-n<m?{direction:"begin",speedFactor:(m-(i-n))/m}:null}function Y(e){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"y",t=null,n=null,r=null,i=null;return{animate:function(o,a){r=o,i=a,function o(){null===t&&(t=requestAnimationFrame((function(a){null===n&&(n=a);var c=a-n;n=a;var l,d,u,p=c/1e3*i;d=s,u=p="begin"===r?0-p:p,(l=e)&&(l!==window?"x"===d?l.scrollLeft+=u:l.scrollTop+=u:"x"===d?l.scrollBy(u,0):l.scrollBy(0,u)),t=null,o()})))}()},stop:function(){null!==t&&(cancelAnimationFrame(t),t=null),n=null}}}function $(e){return function(){return I(e,e.getBoundingClientRect())}}var Z,J,K,ee=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1500,n=e.reduce((function(e,t){var n=function(e){for(var t=[],n=e.element;n;){var r=E(n);if(r&&!z(n,g)){var i={};switch(r){case s.xy:i.x={animator:Y(n,"x")},i.y={animator:Y(n,"y")};break;case s.x:i.x={animator:Y(n,"x")};break;case s.y:i.y={animator:Y(n,"y")}}t.push({axisAnimations:i,getRect:$(n),scrollerElement:n})}n=n.parentElement}return t}(t).filter((function(s){return!e.find((function(e){return e.scrollerElement===s.scrollerElement}))}));return[].concat(j(e),j(n))}),[]);return function(e){var s=e.draggableInfo;if(e.reset)n.forEach((function(e){e.axisAnimations.x&&e.axisAnimations.x.animator.stop(),e.axisAnimations.y&&e.axisAnimations.y.animator.stop()}));else if(s){!function(e,s){e.forEach((function(e){var t=e.axisAnimations,n=(0,e.getRect)();t.x&&(t.x.scrollParams=X(s,"x",n),e.cachedRect=n),t.y&&(t.y.scrollParams=X(s,"y",n),e.cachedRect=n)}))}(n,s.mousePosition),n.forEach((function(e){var s=e.axisAnimations,n=s.x,r=s.y;if(n)if(n.scrollParams){var i=n.scrollParams,o=i.direction,a=i.speedFactor;n.animator.animate(o,a*t)}else n.animator.stop();if(r)if(r.scrollParams){var c=r.scrollParams,l=c.direction,d=c.speedFactor;r.animator.animate(l,d*t)}else r.animator.stop()}));var r=n.filter((function(e){return e.cachedRect}));if(r.length&&1<r.length){var i=function(e,s){for(var t=document.elementFromPoint(s.x,s.y);t;){var n=e.find((function(e){return e.scrollerElement===t}));if(n)return n;t=t.parentElement}return null}(r,s.mousePosition);i&&r.forEach((function(e){e!==i&&(e.axisAnimations.x&&e.axisAnimations.x.animator.stop(),e.axisAnimations.y&&e.axisAnimations.y.animator.stop())}))}}}};"undefined"!=typeof window&&((Z=Element)&&Z.prototype&&!Z.prototype.matches&&(Z.prototype.matches=Z.prototype.matchesSelector||Z.prototype.mozMatchesSelector||Z.prototype.msMatchesSelector||Z.prototype.oMatchesSelector||Z.prototype.webkitMatchesSelector||function(e){for(var s=(this.document||this.ownerDocument).querySelectorAll(e),t=s.length;0<=--t&&s.item(t)!==this;);return-1<t}),(J=Node||Element)&&J.prototype&&null==J.prototype.firstElementChild&&Object.defineProperty(J.prototype,"firstElementChild",{get:function(){for(var e,s=this.childNodes,t=0;e=s[t++];)if(1===e.nodeType)return e;return null}}),Array.prototype.some||(Array.prototype.some=function(e){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var s=Object(this),t=s.length>>>0,n=2<=arguments.length?arguments[1]:void 0,r=0;r<t;r++)if(r in s&&e.call(n,s[r],r,s))return!0;return!1}));var se={overflow:"hidden",display:"block"},te={height:"100%",display:"table-cell","vertical-align":"top"},ne=(S(K={},".".concat(l),{position:"relative","min-height":"30px","min-width":"30px"}),S(K,".".concat(l,".horizontal"),{display:"table"}),S(K,".".concat(l,".horizontal > .").concat(u),{display:"inline-block"}),S(K,".".concat(l,".horizontal > .").concat(r),te),S(K,".".concat(l,".vertical > .").concat(r),se),S(K,".".concat(r),{"box-sizing":"border-box"}),S(K,".".concat(r,".horizontal"),te),S(K,".".concat(r,".vertical"),se),S(K,".".concat(r,".animated"),{transition:"transform ease"}),S(K,".".concat(c),{"box-sizing":"border-box"}),S(K,".".concat(c,".animated"),{transition:"all ease-in-out"}),S(K,".".concat(c," *"),{"pointer-events":"none"}),S(K,".".concat(m," *"),{"touch-action":"none","-ms-touch-action":"none"}),S(K,".".concat(h),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),S(K,".".concat(b),{flex:"1"}),S(K,".".concat(l,".horizontal > .").concat(v),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),S(K,".".concat(l,".vertical > .").concat(v),{overflow:"hidden",display:"block",width:"100%"}),S(K,".".concat(x),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),S(K,".".concat(f),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),K);function re(e){return Object.keys(e).reduce((function(s,t){var n=e[t];return"object"===w(n)?"".concat(s).concat(t,"{").concat(re(n),"}"):"".concat(s).concat(t,":").concat(n,";")}),"")}function ie(e){if(e&&"undefined"!=typeof window){var s=window.document.head||window.document.getElementsByTagName("head")[0],t=window.document.createElement("style"),n=re({"body *":{cursor:"".concat(e," !important")}});return t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(window.document.createTextNode(n)),s.appendChild(t),t}return null}var oe,ae,ce=["mousedown","touchstart"],le=["mousemove","touchmove"],de=["mouseup","touchend"],ue=null,pe=null,me=null,he=null,ge=[],fe=!1,be=!1,ve=!1,xe=!1,_e=null,ye=null,we=null,Se=null,je=(oe=null,ae=!1,{start:function(){ae||(ae=!0,function e(){oe=requestAnimationFrame((function(){ue.forEach((function(e){return e.layout.invalidateRects()})),setTimeout((function(){null!==oe&&e()}),50)}))}())},stop:function(){null!==oe&&(cancelAnimationFrame(oe),oe=null),ae=!1}}),Ce="undefined"!=typeof window&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function Ee(){return he&&he.ghostParent?he.ghostParent:pe&&pe.parentElement||window.document.body}var Ne,Oe,Te,De,Ae,Ie,Pe=(De=null,Ae=1,Ie=5,function(e,s,t){Ne=Ge(e),Te=t,(Oe="number"==typeof s?s:Ce?200:0)&&(De=setTimeout(Me,Oe)),le.forEach((function(e){return window.document.addEventListener(e,Le)}),{passive:!1}),de.forEach((function(e){return window.document.addEventListener(e,ze)}),{passive:!1}),window.document.addEventListener("drag",ke,{passive:!1})});function Le(e){var s=Ge(e),t=s.clientX,n=s.clientY;if(Oe)(Math.abs(Ne.clientX-t)>Ie||Math.abs(Ne.clientY-n)>Ie)&&Re();else if(Math.abs(Ne.clientX-t)>Ae||Math.abs(Ne.clientY-n)>Ae)return Me()}function ze(){Re()}function ke(){Re()}function Re(){clearTimeout(De),le.forEach((function(e){return window.document.removeEventListener(e,Le)}),{passive:!1}),de.forEach((function(e){return window.document.removeEventListener(e,ze)}),{passive:!1}),window.document.removeEventListener("drag",ke,{passive:!1})}function Me(){clearTimeout(De),Re(),Te()}function qe(e){var s=Ge(e);if(!fe&&(void 0===s.button||0===s.button)&&(pe=L(s.target,"."+r))){var t=L(pe,"."+l),n=ge.filter((function(e){return e.element===t}))[0],i=n.getOptions().dragHandleSelector,o=n.getOptions().nonDragAreaSelector,a=!0;i&&!L(s.target,i)&&(a=!1),o&&L(s.target,o)&&(a=!1),a&&(n.layout.invalidate(),k(window.document.body,m),k(window.document.body,h),window.document.addEventListener("mouseup",(function e(){R(window.document.body,m),R(window.document.body,h),window.document.removeEventListener("mouseup",e)}))),a&&Pe(s,n.getOptions().dragBeginDelay,(function(){F(),Je(s,B(e.target)),le.forEach((function(e){window.document.addEventListener(e,Fe,{passive:!1})})),de.forEach((function(e){window.document.addEventListener(e,Qe,{passive:!1})}))}))}}function Fe(e){e.preventDefault();var s=Ge(e);if(he){var t=he.container.getOptions();"contain"===t.behaviour?function(e){var s,t,n,r,i=e.clientX,o=e.clientY,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"vertical",c=he.container.layout.getBeginEndOfContainerVisibleRect();r="vertical"===a?(s=o,t="y",n="top",he.size.offsetHeight):(s=i,t="x",n="left",he.size.offsetWidth);var l=c.begin,d=c.end-r,u=Math.max(l,Math.min(d,s+me.positionDelta[n]));me.topLeft[t]=u,he.position[t]=Math.max(c.begin,Math.min(c.end,s+me.centerDelta[t])),he.mousePosition[t]=Math.max(c.begin,Math.min(c.end,s)),he.position[t]<c.begin+r/2&&(he.position[t]=c.begin+2),he.position[t]>c.end-r/2&&(he.position[t]=c.end-2)}(s,t.orientation):we?"y"===we?(me.topLeft.y=s.clientY+me.positionDelta.top,he.position.y=s.clientY+me.centerDelta.y,he.mousePosition.y=s.clientY):"x"===we&&(me.topLeft.x=s.clientX+me.positionDelta.left,he.position.x=s.clientX+me.centerDelta.x,he.mousePosition.x=s.clientX):(me.topLeft.x=s.clientX+me.positionDelta.left,me.topLeft.y=s.clientY+me.positionDelta.top,he.position.x=s.clientX+me.centerDelta.x,he.position.y=s.clientY+me.centerDelta.y,he.mousePosition.x=s.clientX,he.mousePosition.y=s.clientY),es(),(xe=!_e(he))&&Ve()}else Je(s,B(e.target))}var Be,Ue,He,Ve=(Be=We,Ue=!20,He=null,function(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];He&&clearTimeout(He),Ue&&!He?Be.call.apply(Be,[null].concat(s)):He=setTimeout((function(){He=null,Be.call.apply(Be,[null].concat(s))}),20)});function We(){xe&&(xe=!1,Xe(he,ue))}function Qe(){le.forEach((function(e){window.document.removeEventListener(e,Fe,{passive:!1})})),de.forEach((function(e){window.document.removeEventListener(e,Qe,{passive:!1})})),ye({reset:!0}),Se&&(function(e){e&&"undefined"!=typeof window&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(e)}(Se),Se=null),he&&(je.stop(),We(),ve=!0,function(e){function s(){R(me.ghost,"animated"),me.ghost.style.transitionDuration=null,Ee().removeChild(me.ghost),e()}function t(e,t,n){var r=e.top,i=e.left;k(me.ghost,"animated"),n&&k(me.ghost.firstElementChild,n),me.topLeft.x=i,me.topLeft.y=r,es(t),setTimeout((function(){s()}),t+20)}function n(e,s){k(me.ghost,"animated"),es(e,.9,!0),setTimeout((function(){s()}),e+20)}if(he.targetElement){var r=ge.filter((function(e){return e.element===he.targetElement}))[0];!(g=r.getOptions()).shouldAnimateDrop||g.shouldAnimateDrop(he.container.getOptions(),he.payload)?t(r.getDragResult().shadowBeginEnd.rect,Math.max(150,r.getOptions().animationDuration/2),r.getOptions().dropClass):s()}else{var i=ge.filter((function(e){return e===he.container}))[0];if(i){var o=i.getOptions(),a=o.behaviour,c=o.removeOnDropOut;if("move"!==a&&"contain"!==a||!be&&c||!i.getDragResult())n(i.getOptions().animationDuration,s);else{var l=i.layout.getContainerRectangles();if(!U(l.visibleRect)&&U(l.lastVisibleRect))t({top:l.lastVisibleRect.top,left:l.lastVisibleRect.left},i.getOptions().animationDuration,i.getOptions().dropClass);else{var d=i.getDragResult(),u=d.removedIndex,p=d.elementSize,m=i.layout;i.getTranslateCalculator({dragResult:{removedIndex:u,addedIndex:u,elementSize:p,pos:void 0,shadowBeginEnd:void 0}});var h=0<u?m.getBeginEnd(i.draggables[u-1]).end:m.getBeginEndOfContainer().begin;t(m.getTopLeftOfElementBegin(h),i.getOptions().animationDuration,i.getOptions().dropClass)}}}else n(y.animationDuration,s)}var g}((function(){Ze(fe=!1);for(var e=ue||[],s=e.shift();void 0!==s;)s.handleDrop(he),s=e.shift();_e=we=he=me=pe=ue=null,ve=!1})))}function Ge(e){return e.touches?e.touches[0]:e}function Xe(e,s){var t=!1;s.forEach((function(s){var n=s.handleDrag(e);t=!!n.containerBoxChanged||!1,n.containerBoxChanged=!1})),t&&(t=!1,requestAnimationFrame((function(){ge.forEach((function(e){e.layout.invalidateRects(),e.onTranslated()}))})))}function Ye(e){var s=e,t=null;return function(e){return!(null!==t||!fe||ve||(t=requestAnimationFrame((function(){fe&&!ve&&(Xe(e,s),ye({draggableInfo:e})),t=null})),0))}}function $e(e,s){return e.getOptions().autoScrollEnabled?ee(s,e.getScrollMaxSpeed()):function(e){return null}}function Ze(e){ge.forEach((function(s){var t=e?s.getOptions().onDragStart:s.getOptions().onDragEnd;if(t){var n={isSource:s===he.container,payload:he.payload};s.isDragRelevant(he.container,he.payload)?n.willAcceptDrop=!0:n.willAcceptDrop=!1,t(n)}}))}function Je(e,s){if(null!==pe){fe=!0;var t=ge.filter((function(e){return pe.parentElement===e.element}))[0];t.setDraggables(),we=t.getOptions().lockAxis?t.getOptions().lockAxis.toLowerCase():null,he=function(e){var s=ge.filter((function(s){return e.parentElement===s.element}))[0],t=s.draggables.indexOf(e),n=s.getOptions().getGhostParent,r=e.getBoundingClientRect();return{container:s,element:e,size:{offsetHeight:r.bottom-r.top,offsetWidth:r.right-r.left},elementIndex:t,payload:s.getOptions().getChildPayload?s.getOptions().getChildPayload(t):void 0,targetElement:null,position:{x:0,y:0},groupName:s.getOptions().groupName,ghostParent:n?n():null,invalidateShadow:null,mousePosition:null,relevantContainers:null}}(pe),me=function(e,s,t,n){var r=s.x,i=s.y,o=e.getBoundingClientRect(),a=o.left,l=o.top,d=o.right,u=o.bottom,p=O(t.layout.getContainerRectangles().visibleRect,o),m=p.left+(p.right-p.left)/2,h=p.top+(p.bottom-p.top)/2,g=e.cloneNode(!0);return g.style.zIndex="1000",g.style.boxSizing="border-box",g.style.position="fixed",g.style.top="0px",g.style.left="0px",g.style.transform=null,g.style.removeProperty("transform"),t.shouldUseTransformForGhost()?g.style.transform="translate3d(".concat(a,"px, ").concat(l,"px, 0)"):(g.style.top="".concat(l,"px"),g.style.left="".concat(a,"px")),g.style.width=d-a+"px",g.style.height=u-l+"px",g.style.overflow="visible",g.style.transition=null,g.style.removeProperty("transition"),g.style.pointerEvents="none",g.style.userSelect="none",t.getOptions().dragClass?setTimeout((function(){k(g.firstElementChild,t.getOptions().dragClass);var e=window.getComputedStyle(g.firstElementChild).cursor;Se=ie(e)})):Se=ie(n),k(g,t.getOptions().orientation||"vertical"),k(g,c),{ghost:g,centerDelta:{x:m-r,y:h-i},positionDelta:{left:a-r,top:l-i},topLeft:{x:a,y:l}}}(pe,{x:e.clientX,y:e.clientY},he.container,s),he.position={x:e.clientX+me.centerDelta.x,y:e.clientY+me.centerDelta.y},he.mousePosition={x:e.clientX,y:e.clientY},ue=ge.filter((function(e){return e.isDragRelevant(t,he.payload)})),he.relevantContainers=ue,_e=Ye(ue),ye&&ye({reset:!0,draggableInfo:void 0}),ye=$e(t,ue),ue.forEach((function(e){return e.prepareDrag(e,ue)})),Ze(!0),_e(he),Ee().appendChild(me.ghost),je.start()}}var Ke=null;function es(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=me,r=n.ghost,i=n.topLeft,o=i.x,a=i.y,c=!he.container||he.container.shouldUseTransformForGhost(),l=c?"translate3d(".concat(o,"px,").concat(a,"px, 0)"):null;if(1!==s&&(l=l?"".concat(l," scale(").concat(s,")"):"scale(".concat(s,")")),0<e)return me.ghost.style.transitionDuration=e+"ms",void requestAnimationFrame((function(){l&&(r.style.transform=l),c||(r.style.left=o+"px",r.style.top=a+"px"),Ke=null,t&&(r.style.opacity="0")}));null===Ke&&(Ke=requestAnimationFrame((function(){l&&(r.style.transform=l),c||(r.style.left=o+"px",r.style.top=a+"px"),Ke=null,t&&(r.style.opacity="0")})))}"undefined"!=typeof window&&function(){if("undefined"!=typeof window){var e=window.document.head||window.document.getElementsByTagName("head")[0],s=window.document.createElement("style");s.id="smooth-dnd-style-definitions";var t=re(ne);s.type="text/css",s.styleSheet?s.styleSheet.cssText=t:s.appendChild(window.document.createTextNode(t)),e.appendChild(s)}}();var ss=("undefined"!=typeof window&&ce.forEach((function(e){window.document.addEventListener(e,qe,{passive:!1})})),{register:function(e){!function(e){ge.push(e),fe&&he&&e.isDragRelevant(he.container,he.payload)&&(ue.push(e),e.prepareDrag(e,ue),ye&&ye({reset:!0,draggableInfo:void 0}),ye=$e(e,ue),_e=Ye(ue),e.handleDrag(he))}(e)},unregister:function(e){!function(e){if(ge.splice(ge.indexOf(e),1),fe&&he){he.container===e&&e.fireRemoveElement(),he.targetElement===e.element&&(he.targetElement=null);var s=ue.indexOf(e);-1<s&&(ue.splice(s,1),ye&&ye({reset:!0,draggableInfo:void 0}),ye=$e(e,ue),_e=Ye(ue))}}(e)},isDragging:function(){return fe},cancelDrag:function(){if(fe&&!be&&!ve){xe=!(be=!0);var e=Object.assign({},he,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});ue.forEach((function(s){s.handleDrag(e)})),he.targetElement=null,he.cancelDrop=!0,Qe(),be=!1}}});function ts(e,s){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:y.animationDuration;s?(k(e,i),e.style.transitionDuration=t+"ms"):(R(e,i),e.style.removeProperty("transition-duration"))}function ns(e){var s=[];return Array.prototype.forEach.call(e.children,(function(t){if(t.nodeType===Node.ELEMENT_NODE){var n=t;z(t,r)||(n=function(e){if(js.wrapChild){var s=window.document.createElement("div");return s.className="".concat(r),e.parentElement.insertBefore(s,e),s.appendChild(e),s}return e}(t)),n[o]=0,s.push(n)}else e.removeChild(t)})),s}function rs(e){var s=e.element,t=e.getOptions,n=null;return function(e){var r=e.draggableInfo,i=n;return null==n&&r.container.element===s&&"copy"!==t().behaviour&&(i=n=r.elementIndex),{removedIndex:i}}}function is(e){var s=e.draggables,t=e.layout;return function(e){var n=e.dragResult;null!==n.removedIndex&&t.setVisibility(s[n.removedIndex],!1)}}function os(e){var s=e.element,t=e.layout;return function(e){var n=e.draggableInfo,r=document.elementFromPoint(n.position.x,n.position.y);if(r){var i=P(r,n.relevantContainers);if(i&&i.element===s)return{pos:t.getPosition(n.position)}}return{pos:null}}}function as(e){var s=e.layout,t=null;return function(e){var n=e.draggableInfo;return null===e.dragResult.pos?t=null:{elementSize:t=t||s.getSize(n.size)}}}function cs(e){var s=e.element;return function(e){var t=e.draggableInfo,n=e.dragResult;!function(e,s){!s||2<arguments.length&&void 0!==arguments[2]&&!arguments[2]?e.targetElement===s&&(e.targetElement=null):e.targetElement=s}(t,s,!!n.pos)}}function ls(){return function(e){return null!==e.dragResult.pos?{addedIndex:0}:{addedIndex:null}}}function ds(e){var s=e.layout,t=null;return function(e){var n=e.dragResult.addedIndex;if(n===t)return null;t=n;var r=s.getBeginEndOfContainer(),i=r.begin;return r.end,{shadowBeginEnd:{rect:s.getTopLeftOfElementBegin(i)}}}}function us(e){var s=e.layout,t=e.element,n=e.getOptions,r=null;return function(e){var i=e.dragResult,o=i.elementSize,a=i.shadowBeginEnd,c=i.addedIndex,l=i.dropPlaceholderContainer,d=n();if(d.dropPlaceholder){var u="boolean"==typeof d.dropPlaceholder?{}:d.dropPlaceholder,p=u.animationDuration,m=u.className,h=u.showOnTop;if(null===c)return l&&null!==r&&t.removeChild(l),r=null,{dropPlaceholderContainer:void 0};if(!l){var g=document.createElement("div"),_=document.createElement("div");_.className=x,g.className="".concat(b," ").concat(m||f),(l=document.createElement("div")).className="".concat(v),l.style.position="absolute",void 0!==p&&(l.style.transition="all ".concat(p,"ms ease")),l.appendChild(_),_.appendChild(g),s.setSize(l.style,o+"px"),l.style.pointerEvents="none",h?t.appendChild(l):t.insertBefore(l,t.firstElementChild)}return r!==c&&a.dropArea&&s.setBegin(l.style,a.dropArea.begin-s.getBeginEndOfContainer().begin+"px"),r=c,{dropPlaceholderContainer:l}}return null}}function ps(e){var s=bs(e);return function(e){var t=e.draggableInfo,n=e.dragResult;return t.invalidateShadow?s({draggableInfo:t,dragResult:n}):null}}function ms(e){var s=function(e){var s=e.draggables,t=function(e){var s=e.layout;return function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return function e(t,n,r,i){var o=4<arguments.length&&void 0!==arguments[4]&&arguments[4];if(i<r)return r;if(r===i){var a=s.getBeginEnd(t[r]),c=a.begin,l=a.end;return o?n<(l+c)/2?r:r+1:r}var d=Math.floor((i+r)/2),u=s.getBeginEnd(t[d]),p=u.begin,m=u.end;return n<p?e(t,n,r,d-1,o):m<n?e(t,n,d+1,i,o):o?n<(m+p)/2?d:d+1:d}(e,t,0,e.length-1,n)}}({layout:e.layout});return function(e){var n=e.dragResult,r=n.shadowBeginEnd,i=n.pos;if(r)return r.begin+r.beginAdjustment<=i&&r.end>=i?null:i<r.begin+r.beginAdjustment?t(s,i):i>r.end?t(s,i)+1:s.length;var o=t(s,i,!0);return null!==o?o:s.length}}(e);return function(e){var t=e.dragResult,n=null;return null!==t.pos&&null===(n=s({dragResult:t}))&&(n=t.addedIndex),{addedIndex:n}}}function hs(){var e=null;return function(s){var t=s.dragResult,n=t.addedIndex,r=t.shadowBeginEnd;n!==e&&null!==e&&r&&(r.beginAdjustment=0),e=n}}function gs(e){var s=e.element,t=e.draggables,n=e.layout,r=e.getOptions,i=null;return function(e){var a=e.dragResult,c=a.addedIndex,l=a.removedIndex,d=a.elementSize;if(null===l)if(null!==c){if(!i){var m=n.getBeginEndOfContainer();m.end=m.begin+n.getSize(s);var h=n.getScrollSize(s)>n.getSize(s)?m.begin+n.getScrollSize(s)-n.getScrollValue(s):m.end,g=0<t.length?n.getBeginEnd(t[t.length-1]).end-t[t.length-1][o]:m.begin;if(h<g+d){(i=window.document.createElement("div")).className=u+" "+r().orientation;var f=0<t.length?d+g-h:d;return n.setSize(i.style,"".concat(f,"px")),s.appendChild(i),s[p]=i,{containerBoxChanged:!0}}}}else if(i){n.setTranslation(i,0);var b=i;return i=null,s.removeChild(b),{containerBoxChanged:!(s[p]=null)}}}}function fs(e){var s=e.draggables,t=e.layout,n=null,r=null;return function(e){var i=e.dragResult,o=i.addedIndex,a=i.removedIndex,c=i.elementSize;if(o!==n||a!==r){for(var l=0;l<s.length;l++)if(l!==a){var d=s[l],u=0;null!==a&&a<l&&(u-=c),null!==o&&o<=l&&(u+=c),t.setTranslation(d,u)}return{addedIndex:n=o,removedIndex:r=a}}}}function bs(e){var s=e.draggables,t=e.layout,n=null;return function(e){var r=e.draggableInfo,i=e.dragResult,o=i.addedIndex,a=i.removedIndex,c=i.elementSize,l=i.pos,d=i.shadowBeginEnd;if(null===l)return{shadowBeginEnd:n=null};if(null===o||!r.invalidateShadow&&o===n)return null;var u=o-1,p=Number.MIN_SAFE_INTEGER,m=0,h=0,g=null,f=null;if(u===a&&u--,-1<u){var b=t.getSize(s[u]);if(f=t.getBeginEnd(s[u]),c<b){var v=(b-c)/2;p=f.end-v}else p=f.end;m=f.end}else f={end:t.getBeginEndOfContainer().begin},m=t.getBeginEndOfContainer().begin;var x=Number.MAX_SAFE_INTEGER,_=o;if(_===a&&_++,_<s.length){var y=t.getSize(s[_]);if(g=t.getBeginEnd(s[_]),c<y){var w=(y-c)/2;x=g.begin+w}else x=g.begin;h=g.begin}else g={begin:t.getContainerRectangles().rect.end},h=t.getContainerRectangles().rect.end-t.getContainerRectangles().rect.begin;var S=f&&g?t.getTopLeftOfElementBegin(f.end):null;return n=o,{shadowBeginEnd:{dropArea:{begin:m,end:h},begin:p,end:x,rect:S,beginAdjustment:d?d.beginAdjustment:0}}}}function vs(){var e=null;return function(s){var t=s.dragResult,n=t.pos,r=t.addedIndex,i=t.shadowBeginEnd;if(null!==n){if(null!=r&&null===e){if(n<i.begin){var o=n-i.begin-5;i.beginAdjustment=o}e=r}}else e=null}}function xs(e){var s=e.getOptions,t=!1,n=s();return function(e){var s=!!e.dragResult.pos;s!==t&&((t=s)?n.onDragEnter&&n.onDragEnter():n.onDragLeave&&n.onDragLeave())}}function _s(e){var s=e.getOptions,t=null,n=s();return function(e){var s=e.dragResult,r=s.addedIndex,i=s.removedIndex,o=e.draggableInfo,a=o.payload,c=o.element;if(n.onDropReady&&null!==r&&t!==r){var l=t=r;null!==i&&i<r&&l--,n.onDropReady({addedIndex:l,removedIndex:i,payload:a,element:c?c.firstElementChild:void 0})}}}function ys(e){return"drop-zone"===e.getOptions().behaviour?ws(e)(rs,is,os,as,cs,ls,ds,xs,_s):ws(e)(rs,is,os,as,cs,ps,ms,hs,gs,fs,bs,us,vs,xs,_s)}function ws(e){return function(){for(var s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];var r=t.map((function(s){return s(e)})),i=null;return function(e){return i=r.reduce((function(s,t){return Object.assign(s,t({draggableInfo:e,dragResult:s}))}),i||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function Ss(e){return function(s){var t=Object.assign({},y,s),n=null,i=null,o=function(e,s){var t=ns(e),n=s();return k(e,"".concat(l," ").concat(n.orientation)),{element:e,draggables:t,getOptions:s,layout:G(e,n.orientation,n.animationDuration)}}(e,h),a=ys(o),c=function(e){var s=e.element,t=e.draggables,n=e.layout,r=e.getOptions,i=function(e){var s=e.element,t=e.draggables,n=e.layout;return function(){t.forEach((function(e){ts(e,!1),n.setTranslation(e,0),n.setVisibility(e,!0)})),s[p]&&(s[p].parentNode.removeChild(s[p]),s[p]=null)}}({element:s,draggables:t,layout:n,getOptions:r}),o=(js.dropHandler||H)({element:s,draggables:t,layout:n,getOptions:r});return function(e,s){var t=s.addedIndex,n=s.removedIndex,a=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(i(),!e.cancelDrop&&(e.targetElement||r().removeOnDropOut||a)){var c={removedIndex:n,addedIndex:null!==t?null!==n&&n<t?t-1:t:null,payload:e.payload};o(c,r().onDrop)}}}(o),d=function(e,s){var t=[];function n(){t&&(t.forEach((function(e){return e.removeEventListener("scroll",s)})),window.removeEventListener("scroll",s))}return function(){for(var s=e;s;)(N(s,"x")||N(s,"y"))&&t.push(s),s=s.parentElement}(),{dispose:function(){n(),t=null},start:function(){t&&(t.forEach((function(e){return e.addEventListener("scroll",s)})),window.addEventListener("scroll",s))},stop:n}}(e,(function(){o.layout.invalidateRects(),u()}));function u(){null!==i&&(i.invalidateShadow=!0,n=a(i),i.invalidateShadow=!1)}function m(e,s){for(var t=ns(s),n=0;n<t.length;n++)e[n]=t[n];for(var r=0;r<e.length-t.length;r++)e.pop()}function h(){return t}return{element:e,draggables:o.draggables,isDragRelevant:function(e){var s=e.element,t=e.getOptions;return function(e,n){var i=t();if(i.shouldAcceptDrop)return i.shouldAcceptDrop(e.getOptions(),n);var o=e.getOptions();return"copy"!==i.behaviour&&L(s,"."+r)!==e.element&&(e.element===s||!(!o.groupName||o.groupName!==i.groupName))}}(o),layout:o.layout,dispose:function(e){d.dispose(),function(e){js.wrapChild&&Array.prototype.forEach.call(e.children,(function(s){s.nodeType===Node.ELEMENT_NODE&&z(s,r)&&(e.insertBefore(s.firstElementChild,s),e.removeChild(s))}))}(e.element)},prepareDrag:function(e,s){var t=e.element,n=o.draggables;m(n,t),e.layout.invalidateRects(),n.forEach((function(e){return ts(e,!0,h().animationDuration)})),d.start()},handleDrag:function(e){return n=a(i=e)},handleDrop:function(s){d.stop(),n&&n.dropPlaceholderContainer&&e.removeChild(n.dropPlaceholderContainer),i=null,a=ys(o),c(s,n),n=null},fireRemoveElement:function(){c(i,Object.assign({},n,{addedIndex:null}),!0),n=null},getDragResult:function(){return n},getTranslateCalculator:function(e){return fs(o)(e)},onTranslated:function(){u()},setDraggables:function(){m(o.draggables,e)},getScrollMaxSpeed:function(){return js.maxScrollSpeed},shouldUseTransformForGhost:function(){return!0===js.useTransformForGhost},getOptions:h,setOptions:function(e){t=!1===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])?Object.assign({},y,e):Object.assign({},y,t,e)}}}}var js=function(e,s){var t=Ss(e)(s);return e[n]=t,ss.register(t),{dispose:function(){ss.unregister(t),t.dispose(t)},setOptions:function(e,s){t.setOptions(e,s)}}};function Cs(e,s,t){Object.defineProperty(e,t,{set:function(e){s[t]=e},get:function(){return s[t]}})}function Es(e,s){return console.warn('default export is deprecated. please use named export "smoothDnD"'),js(e,s)}js.wrapChild=!0,js.cancelDrag=function(){ss.cancelDrag()},js.isDragging=function(){return ss.isDragging()},Es.cancelDrag=function(){js.cancelDrag()},Es.isDragging=function(){return js.isDragging()},Cs(Es,js,"useTransformForGhost"),Cs(Es,js,"maxScrollSpeed"),Cs(Es,js,"wrapChild"),Cs(Es,js,"dropHandler"),e.smoothDnD=js,e.constants=_,e.dropHandlers=V,e.default=Es,Object.defineProperty(e,"__esModule",{value:!0})}(s)},160:(e,s,t)=>{"use strict";var n=t(63),r=t(992),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,o=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,d=/^[a-zA-Z]:/;function u(e){return(e||"").toString().replace(i,"")}var p=[["#","hash"],["?","query"],function(e,s){return g(s.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],m={hash:1,query:1};function h(e){var s,n=("undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{}).location||{},r={},i=typeof(e=e||n);if("blob:"===e.protocol)r=new b(unescape(e.pathname),{});else if("string"===i)for(s in r=new b(e,{}),m)delete r[s];else if("object"===i){for(s in e)s in m||(r[s]=e[s]);void 0===r.slashes&&(r.slashes=a.test(e.href))}return r}function g(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function f(e,s){e=(e=u(e)).replace(o,""),s=s||{};var t,n=l.exec(e),r=n[1]?n[1].toLowerCase():"",i=!!n[2],a=!!n[3],c=0;return i?a?(t=n[2]+n[3]+n[4],c=n[2].length+n[3].length):(t=n[2]+n[4],c=n[2].length):a?(t=n[3]+n[4],c=n[3].length):t=n[4],"file:"===r?c>=2&&(t=t.slice(2)):g(r)?t=n[4]:r?i&&(t=t.slice(2)):c>=2&&g(s.protocol)&&(t=n[4]),{protocol:r,slashes:i||g(r),slashesCount:c,rest:t}}function b(e,s,t){if(e=(e=u(e)).replace(o,""),!(this instanceof b))return new b(e,s,t);var i,a,c,l,m,v,x=p.slice(),_=typeof s,y=this,w=0;for("object"!==_&&"string"!==_&&(t=s,s=null),t&&"function"!=typeof t&&(t=r.parse),i=!(a=f(e||"",s=h(s))).protocol&&!a.slashes,y.slashes=a.slashes||i&&s.slashes,y.protocol=a.protocol||s.protocol||"",e=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||d.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!g(y.protocol)))&&(x[3]=[/(.*)/,"pathname"]);w<x.length;w++)"function"!=typeof(l=x[w])?(c=l[0],v=l[1],c!=c?y[v]=e:"string"==typeof c?~(m="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof l[2]?(y[v]=e.slice(0,m),e=e.slice(m+l[2])):(y[v]=e.slice(m),e=e.slice(0,m))):(m=c.exec(e))&&(y[v]=m[1],e=e.slice(0,m.index)),y[v]=y[v]||i&&l[3]&&s[v]||"",l[4]&&(y[v]=y[v].toLowerCase())):e=l(e,y);t&&(y.query=t(y.query)),i&&s.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==s.pathname)&&(y.pathname=function(e,s){if(""===e)return s;for(var t=(s||"/").split("/").slice(0,-1).concat(e.split("/")),n=t.length,r=t[n-1],i=!1,o=0;n--;)"."===t[n]?t.splice(n,1):".."===t[n]?(t.splice(n,1),o++):o&&(0===n&&(i=!0),t.splice(n,1),o--);return i&&t.unshift(""),"."!==r&&".."!==r||t.push(""),t.join("/")}(y.pathname,s.pathname)),"/"!==y.pathname.charAt(0)&&g(y.protocol)&&(y.pathname="/"+y.pathname),n(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(~(m=y.auth.indexOf(":"))?(y.username=y.auth.slice(0,m),y.username=encodeURIComponent(decodeURIComponent(y.username)),y.password=y.auth.slice(m+1),y.password=encodeURIComponent(decodeURIComponent(y.password))):y.username=encodeURIComponent(decodeURIComponent(y.auth)),y.auth=y.password?y.username+":"+y.password:y.username),y.origin="file:"!==y.protocol&&g(y.protocol)&&y.host?y.protocol+"//"+y.host:"null",y.href=y.toString()}b.prototype={set:function(e,s,t){var i=this;switch(e){case"query":"string"==typeof s&&s.length&&(s=(t||r.parse)(s)),i[e]=s;break;case"port":i[e]=s,n(s,i.protocol)?s&&(i.host=i.hostname+":"+s):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=s,i.port&&(s+=":"+i.port),i.host=s;break;case"host":i[e]=s,c.test(s)?(s=s.split(":"),i.port=s.pop(),i.hostname=s.join(":")):(i.hostname=s,i.port="");break;case"protocol":i.protocol=s.toLowerCase(),i.slashes=!t;break;case"pathname":case"hash":if(s){var o="pathname"===e?"/":"#";i[e]=s.charAt(0)!==o?o+s:s}else i[e]=s;break;case"username":case"password":i[e]=encodeURIComponent(s);break;case"auth":var a=s.indexOf(":");~a?(i.username=s.slice(0,a),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=s.slice(a+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(s))}for(var l=0;l<p.length;l++){var d=p[l];d[4]&&(i[d[1]]=i[d[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin="file:"!==i.protocol&&g(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"==typeof e||(e=r.stringify);var s,t=this,n=t.host,i=t.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var o=i+(t.protocol&&t.slashes||g(t.protocol)?"//":"");return t.username?(o+=t.username,t.password&&(o+=":"+t.password),o+="@"):t.password?(o+=":"+t.password,o+="@"):"file:"!==t.protocol&&g(t.protocol)&&!n&&"/"!==t.pathname&&(o+="@"),(":"===n[n.length-1]||c.test(t.hostname)&&!t.port)&&(n+=":"),o+=n+t.pathname,(s="object"==typeof t.query?e(t.query):t.query)&&(o+="?"!==s.charAt(0)?"?"+s:s),t.hash&&(o+=t.hash),o}},b.extractProtocol=f,b.location=h,b.trimLeft=u,b.qs=r,e.exports=b},609:e=>{"use strict";e.exports=window.React},942:(e,s)=>{var t;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",s=0;s<arguments.length;s++){var t=arguments[s];t&&(e=o(e,i(t)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var s="";for(var t in e)n.call(e,t)&&e[t]&&(s=o(s,t));return s}function o(e,s){return s?e?e+" "+s:e+s:e}e.exports?(r.default=r,e.exports=r):void 0===(t=function(){return r}.apply(s,[]))||(e.exports=t)}()}},t={};function n(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}};return s[e].call(i.exports,i,i.exports,n),i.exports}n.m=s,e=[],n.O=(s,t,r,i)=>{if(!t){var o=1/0;for(d=0;d<e.length;d++){t=e[d][0],r=e[d][1],i=e[d][2];for(var a=!0,c=0;c<t.length;c++)(!1&i||o>=i)&&Object.keys(n.O).every((e=>n.O[e](t[c])))?t.splice(c--,1):(a=!1,i<o&&(o=i));if(a){e.splice(d--,1);var l=r();void 0!==l&&(s=l)}}return s}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[t,r,i]},n.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return n.d(s,{a:s}),s},n.d=(e,s)=>{for(var t in s)n.o(s,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={792:0,85:0};n.O.j=s=>0===e[s];var s=(s,t)=>{var r,i,o=t[0],a=t[1],c=t[2],l=0;if(o.some((s=>0!==e[s]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(c)var d=c(n)}for(s&&s(t);l<o.length;l++)i=o[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},t=self.webpackChunkmemberpress_courses=self.webpackChunkmemberpress_courses||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})();var r=n.O(void 0,[85],(()=>n(381)));r=n.O(r)})();